{
	"version": 3,
	"names": [
		"_browser",
		"_interopRequireDefault",
		"require",
		"_domObjects",
		"_domUtils",
		"pointerUtils",
		"_interopRequireWildcard",
		"_interactablePreventDefault",
		"_Interaction",
		"_interactionFinder",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"__esModule",
		"default",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"obj",
		"methodNames",
		"install",
		"scope",
		"listeners",
		"method",
		"doOnInteractions",
		"pEventTypes",
		"browser",
		"docEvents",
		"domObjects",
		"PointerEvent",
		"type",
		"down",
		"listener",
		"releasePointersOnRemovedEls",
		"pointerDown",
		"move",
		"pointerMove",
		"up",
		"pointerUp",
		"cancel",
		"push",
		"event",
		"interaction",
		"interactions",
		"list",
		"documentBlur",
		"prevTouchTime",
		"Interaction",
		"InteractionBase",
		"pointerMoveTolerance",
		"value",
		"_now",
		"now",
		"new",
		"options",
		"scopeFire",
		"name",
		"arg",
		"fire",
		"pointerIsDown",
		"pointerType",
		"_interacting",
		"pointer",
		"pointers",
		"documents",
		"some",
		"doc",
		"nodeContains",
		"downTarget",
		"removePointer",
		"usePlugin",
		"interactablePreventDefault",
		"getPointerType",
		"eventTarget",
		"curEventTarget",
		"getEventTargets",
		"matches",
		"test",
		"changedTouch",
		"changedTouches",
		"pointerId",
		"getPointerId",
		"searchDetails",
		"eventType",
		"getInteraction",
		"invalidPointer",
		"supportsPointerEvent",
		"length",
		"timeStamp",
		"foundInteraction",
		"finder",
		"search",
		"signalArg",
		"onDocSignal",
		"eventMethodName",
		"events",
		"eventMethod",
		"isIOS",
		"passive",
		"delegatedEvents",
		"delegateListener",
		"delegateUseCapture",
		"eventOptions",
		"id",
		"interactable:unset",
		"interactable",
		"stop",
		"destroy",
		"splice",
		"_default",
		"exports"
	],
	"sources": [
		"interactions.ts"
	],
	"sourcesContent": [
		"import browser from '@interactjs/utils/browser'\nimport domObjects from '@interactjs/utils/domObjects'\nimport { nodeContains } from '@interactjs/utils/domUtils'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nimport type { Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport type { ActionName, Listener } from '@interactjs/core/types'\n\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './interactablePreventDefault'\nimport interactablePreventDefault from './interactablePreventDefault'\nimport InteractionBase from './Interaction'\n/* eslint-enable import/no-duplicates */\nimport type { SearchDetails } from './interactionFinder'\nimport finder from './interactionFinder'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    Interaction: typeof InteractionBase\n    interactions: {\n      new: <T extends ActionName>(options: any) => InteractionBase<T>\n      list: Array<InteractionBase<ActionName>>\n      listeners: { [type: string]: Listener }\n      docEvents: Array<{ type: string; listener: Listener }>\n      pointerMoveTolerance: number\n    }\n    prevTouchTime: number\n  }\n\n  interface SignalArgs {\n    'interactions:find': {\n      interaction: InteractionBase\n      searchDetails: SearchDetails\n    }\n  }\n}\n\nconst methodNames = [\n  'pointerDown',\n  'pointerMove',\n  'pointerUp',\n  'updatePointer',\n  'removePointer',\n  'windowBlur',\n]\n\nfunction install(scope: Scope) {\n  const listeners = {} as any\n\n  for (const method of methodNames) {\n    listeners[method] = doOnInteractions(method, scope)\n  }\n\n  const pEventTypes = browser.pEventTypes\n  let docEvents: typeof scope.interactions.docEvents\n\n  if (domObjects.PointerEvent) {\n    docEvents = [\n      { type: pEventTypes.down, listener: releasePointersOnRemovedEls },\n      { type: pEventTypes.down, listener: listeners.pointerDown },\n      { type: pEventTypes.move, listener: listeners.pointerMove },\n      { type: pEventTypes.up, listener: listeners.pointerUp },\n      { type: pEventTypes.cancel, listener: listeners.pointerUp },\n    ]\n  } else {\n    docEvents = [\n      { type: 'mousedown', listener: listeners.pointerDown },\n      { type: 'mousemove', listener: listeners.pointerMove },\n      { type: 'mouseup', listener: listeners.pointerUp },\n\n      { type: 'touchstart', listener: releasePointersOnRemovedEls },\n      { type: 'touchstart', listener: listeners.pointerDown },\n      { type: 'touchmove', listener: listeners.pointerMove },\n      { type: 'touchend', listener: listeners.pointerUp },\n      { type: 'touchcancel', listener: listeners.pointerUp },\n    ]\n  }\n\n  docEvents.push({\n    type: 'blur',\n    listener(event) {\n      for (const interaction of scope.interactions.list) {\n        interaction.documentBlur(event)\n      }\n    },\n  })\n\n  // for ignoring browser's simulated mouse events\n  scope.prevTouchTime = 0\n\n  scope.Interaction = class<T extends ActionName> extends InteractionBase<T> {\n    get pointerMoveTolerance() {\n      return scope.interactions.pointerMoveTolerance\n    }\n\n    set pointerMoveTolerance(value) {\n      scope.interactions.pointerMoveTolerance = value\n    }\n\n    _now() {\n      return scope.now()\n    }\n  }\n\n  scope.interactions = {\n    // all active and idle interactions\n    list: [],\n    new<T extends ActionName>(options: { pointerType?: string; scopeFire?: Scope['fire'] }) {\n      options.scopeFire = (name, arg) => scope.fire(name, arg)\n\n      const interaction = new scope.Interaction<T>(options as Required<typeof options>)\n\n      scope.interactions.list.push(interaction)\n      return interaction\n    },\n    listeners,\n    docEvents,\n    pointerMoveTolerance: 1,\n  }\n\n  function releasePointersOnRemovedEls() {\n    // for all inactive touch interactions with pointers down\n    for (const interaction of scope.interactions.list) {\n      if (!interaction.pointerIsDown || interaction.pointerType !== 'touch' || interaction._interacting) {\n        continue\n      }\n\n      // if a pointer is down on an element that is no longer in the DOM tree\n      for (const pointer of interaction.pointers) {\n        if (!scope.documents.some(({ doc }) => nodeContains(doc, pointer.downTarget))) {\n          // remove the pointer from the interaction\n          interaction.removePointer(pointer.pointer, pointer.event)\n        }\n      }\n    }\n  }\n\n  scope.usePlugin(interactablePreventDefault)\n}\n\nfunction doOnInteractions(method: string, scope: Scope) {\n  return function (event: Event) {\n    const interactions = scope.interactions.list\n\n    const pointerType = pointerUtils.getPointerType(event)\n    const [eventTarget, curEventTarget] = pointerUtils.getEventTargets(event)\n    const matches: any[] = [] // [ [pointer, interaction], ...]\n\n    if (/^touch/.test(event.type)) {\n      scope.prevTouchTime = scope.now()\n\n      // @ts-expect-error\n      for (const changedTouch of event.changedTouches) {\n        const pointer = changedTouch\n        const pointerId = pointerUtils.getPointerId(pointer)\n        const searchDetails: SearchDetails = {\n          pointer,\n          pointerId,\n          pointerType,\n          eventType: event.type,\n          eventTarget,\n          curEventTarget,\n          scope,\n        }\n        const interaction = getInteraction(searchDetails)\n\n        matches.push([\n          searchDetails.pointer,\n          searchDetails.eventTarget,\n          searchDetails.curEventTarget,\n          interaction,\n        ])\n      }\n    } else {\n      let invalidPointer = false\n\n      if (!browser.supportsPointerEvent && /mouse/.test(event.type)) {\n        // ignore mouse events while touch interactions are active\n        for (let i = 0; i < interactions.length && !invalidPointer; i++) {\n          invalidPointer = interactions[i].pointerType !== 'mouse' && interactions[i].pointerIsDown\n        }\n\n        // try to ignore mouse events that are simulated by the browser\n        // after a touch event\n        invalidPointer =\n          invalidPointer ||\n          scope.now() - scope.prevTouchTime < 500 ||\n          // on iOS and Firefox Mobile, MouseEvent.timeStamp is zero if simulated\n          event.timeStamp === 0\n      }\n\n      if (!invalidPointer) {\n        const searchDetails = {\n          pointer: event as PointerEvent,\n          pointerId: pointerUtils.getPointerId(event as PointerEvent),\n          pointerType,\n          eventType: event.type,\n          curEventTarget,\n          eventTarget,\n          scope,\n        }\n\n        const interaction = getInteraction(searchDetails)\n\n        matches.push([\n          searchDetails.pointer,\n          searchDetails.eventTarget,\n          searchDetails.curEventTarget,\n          interaction,\n        ])\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    for (const [pointer, eventTarget, curEventTarget, interaction] of matches) {\n      interaction[method](pointer, event, eventTarget, curEventTarget)\n    }\n  }\n}\n\nfunction getInteraction(searchDetails: SearchDetails) {\n  const { pointerType, scope } = searchDetails\n\n  const foundInteraction = finder.search(searchDetails)\n  const signalArg = { interaction: foundInteraction, searchDetails }\n\n  scope.fire('interactions:find', signalArg)\n\n  return signalArg.interaction || scope.interactions.new({ pointerType })\n}\n\nfunction onDocSignal<T extends 'scope:add-document' | 'scope:remove-document'>(\n  { doc, scope, options }: SignalArgs[T],\n  eventMethodName: 'add' | 'remove',\n) {\n  const {\n    interactions: { docEvents },\n    events,\n  } = scope\n  const eventMethod = events[eventMethodName]\n\n  if (scope.browser.isIOS && !options.events) {\n    options.events = { passive: false }\n  }\n\n  // delegate event listener\n  for (const eventType in events.delegatedEvents) {\n    eventMethod(doc, eventType, events.delegateListener)\n    eventMethod(doc, eventType, events.delegateUseCapture, true)\n  }\n\n  const eventOptions = options && options.events\n\n  for (const { type, listener } of docEvents) {\n    eventMethod(doc, type, listener, eventOptions)\n  }\n}\n\nconst interactions: Plugin = {\n  id: 'core/interactions',\n  install,\n  listeners: {\n    'scope:add-document': (arg) => onDocSignal(arg, 'add'),\n    'scope:remove-document': (arg) => onDocSignal(arg, 'remove'),\n    'interactable:unset': ({ interactable }, scope) => {\n      // Stop and destroy related interactions when an Interactable is unset\n      for (let i = scope.interactions.list.length - 1; i >= 0; i--) {\n        const interaction = scope.interactions.list[i]\n\n        if (interaction.interactable !== interactable) {\n          continue\n        }\n\n        interaction.stop()\n        scope.fire('interactions:destroy', { interaction })\n        interaction.destroy()\n\n        if (scope.interactions.list.length > 2) {\n          scope.interactions.list.splice(i, 1)\n        }\n      }\n    },\n  },\n  onDocSignal,\n  doOnInteractions,\n  methodNames,\n}\n\nexport default interactions\n"
	],
	"mappings": "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"
}