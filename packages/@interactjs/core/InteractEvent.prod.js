Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractEvent=void 0;var t=n(require("../utils/extend.prod.js")),e=n(require("../utils/getOriginXY.prod.js")),i=n(require("../utils/hypot.prod.js")),s=require("./BaseEvent"),r=require("./options");function n(t){return t&&t.__esModule?t:{default:t}}class a extends s.BaseEvent{relatedTarget=null;screenX;screenY;button;buttons;ctrlKey;shiftKey;altKey;metaKey;page;client;delta;rect;x0;y0;t0;dt;duration;clientX0;clientY0;velocity;speed;swipe;axes;preEnd;constructor(s,n,a,o,l,p,c){super(s),l=l||s.element;const h=s.interactable,d=(h&&h.options||r.defaults).deltaSource,y=(0,e.default)(h,l,a),u="start"===o,v="end"===o,g=u?this:s.prevEvent,x=u?s.coords.start:v?{page:g.page,client:g.client,timeStamp:s.coords.cur.timeStamp}:s.coords.cur;this.page=(0,t.default)({},x.page),this.client=(0,t.default)({},x.client),this.rect=(0,t.default)({},s.rect),this.timeStamp=x.timeStamp,v||(this.page.x-=y.x,this.page.y-=y.y,this.client.x-=y.x,this.client.y-=y.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=l,this.currentTarget=l,this.preEnd=p,this.type=c||a+(o||""),this.interactable=h,this.t0=u?s.pointers[s.pointers.length-1].downTime:g.t0,this.x0=s.coords.start.page.x-y.x,this.y0=s.coords.start.page.y-y.y,this.clientX0=s.coords.start.client.x-y.x,this.clientY0=s.coords.start.client.y-y.y,this.delta=u||v?{x:0,y:0}:{x:this[d].x-g[d].x,y:this[d].y-g[d].y},this.dt=s.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=(0,t.default)({},s.coords.velocity[d]),this.speed=(0,i.default)(this.velocity.x,this.velocity.y),this.swipe=v||"inertiastart"===o?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);const i=112.5<=e&&e<247.5,s=202.5<=e&&e<337.5;return{up:s,down:!s&&22.5<=e&&e<157.5,left:i,right:!i&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}exports.InteractEvent=a,Object.defineProperties(a.prototype,{pageX:{get(){return this.page.x},set(t){this.page.x=t}},pageY:{get(){return this.page.y},set(t){this.page.y=t}},clientX:{get(){return this.client.x},set(t){this.client.x=t}},clientY:{get(){return this.client.y},set(t){this.client.y=t}},dx:{get(){return this.delta.x},set(t){this.delta.x=t}},dy:{get(){return this.delta.y},set(t){this.delta.y=t}},velocityX:{get(){return this.velocity.x},set(t){this.velocity.x=t}},velocityY:{get(){return this.velocity.y},set(t){this.velocity.y=t}}});
//# sourceMappingURL=InteractEvent.prod.js.map