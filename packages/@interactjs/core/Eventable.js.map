{
	"version": 3,
	"names": [
		"arr",
		"_interopRequireWildcard",
		"require",
		"_extend",
		"_interopRequireDefault",
		"_normalizeListeners",
		"obj",
		"__esModule",
		"default",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"fireUntilImmediateStopped",
		"event",
		"listeners",
		"listener",
		"immediatePropagationStopped",
		"Eventable",
		"options",
		"types",
		"propagationStopped",
		"global",
		"constructor",
		"extend",
		"fire",
		"type",
		"on",
		"normalize",
		"merge",
		"off",
		"eventList",
		"length",
		"subListener",
		"index",
		"indexOf",
		"splice",
		"getRect",
		"_element",
		"exports"
	],
	"sources": [
		"Eventable.ts"
	],
	"sourcesContent": [
		"import * as arr from '@interactjs/utils/arr'\nimport extend from '@interactjs/utils/extend'\nimport type { NormalizedListeners } from '@interactjs/utils/normalizeListeners'\nimport normalize from '@interactjs/utils/normalizeListeners'\n\nimport type { Listener, ListenersArg, Rect } from '@interactjs/core/types'\n\nfunction fireUntilImmediateStopped(event: any, listeners: Listener[]) {\n  for (const listener of listeners) {\n    if (event.immediatePropagationStopped) {\n      break\n    }\n\n    listener(event)\n  }\n}\n\nexport class Eventable {\n  options: any\n  types: NormalizedListeners = {}\n  propagationStopped = false\n  immediatePropagationStopped = false\n  global: any\n\n  constructor(options?: { [index: string]: any }) {\n    this.options = extend({}, options || {})\n  }\n\n  fire<T extends { type: string; propagationStopped?: boolean }>(event: T) {\n    let listeners: Listener[]\n    const global = this.global\n\n    // Interactable#on() listeners\n    // tslint:disable no-conditional-assignment\n    if ((listeners = this.types[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n\n    // interact.on() listeners\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n  }\n\n  on(type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      this.types[type] = arr.merge(this.types[type] || [], listeners[type])\n    }\n  }\n\n  off(type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      const eventList = this.types[type]\n\n      if (!eventList || !eventList.length) {\n        continue\n      }\n\n      for (const subListener of listeners[type]) {\n        const index = eventList.indexOf(subListener)\n\n        if (index !== -1) {\n          eventList.splice(index, 1)\n        }\n      }\n    }\n  }\n\n  getRect(_element: Element): Rect {\n    return null\n  }\n}\n"
	],
	"mappings": "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"
}