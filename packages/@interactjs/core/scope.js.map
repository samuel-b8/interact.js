{
	"version": 3,
	"names": [
		"_browser",
		"_interopRequireDefault",
		"require",
		"_clone",
		"_domObjects",
		"_extend",
		"_is",
		"_raf",
		"win",
		"_interopRequireWildcard",
		"_Eventable",
		"_events",
		"_interactions",
		"_Interactable",
		"_InteractableSet",
		"_InteractEvent",
		"_InteractStatic",
		"_options",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"__esModule",
		"default",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"obj",
		"Scope",
		"id",
		"Math",
		"floor",
		"random",
		"isInitialized",
		"listenerMaps",
		"browser",
		"defaults",
		"clone",
		"Eventable",
		"actions",
		"map",
		"phases",
		"start",
		"move",
		"end",
		"methodDict",
		"phaselessTypes",
		"interactStatic",
		"createInteractStatic",
		"InteractEvent",
		"Interactable",
		"interactables",
		"InteractableSet",
		"_win",
		"document",
		"window",
		"documents",
		"_plugins",
		"list",
		"constructor",
		"scope",
		"InteractableBase",
		"_defaults",
		"options",
		"fire",
		"interactable",
		"unset",
		"index",
		"indexOf",
		"splice",
		"addListeners",
		"push",
		"name",
		"arg",
		"listener",
		"onWindowUnload",
		"event",
		"removeDocument",
		"target",
		"init",
		"initScope",
		"pluginIsInstalled",
		"plugin",
		"usePlugin",
		"install",
		"listeners",
		"before",
		"len",
		"length",
		"reduce",
		"acc",
		"pluginIdRoot",
		"otherId",
		"addDocument",
		"doc",
		"getDocIndex",
		"getWindow",
		"extend",
		"events",
		"add",
		"remove",
		"getDocOptions",
		"docIndex",
		"now",
		"Date",
		"exports",
		"is",
		"domObjects",
		"raf",
		"interactions",
		"replace"
	],
	"sources": [
		"scope.ts"
	],
	"sourcesContent": [
		"import browser from '@interactjs/utils/browser'\nimport clone from '@interactjs/utils/clone'\nimport domObjects from '@interactjs/utils/domObjects'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport raf from '@interactjs/utils/raf'\nimport * as win from '@interactjs/utils/window'\n\nimport type Interaction from '@interactjs/core/Interaction'\n\nimport { Eventable } from './Eventable'\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './events'\nimport './interactions'\nimport events from './events'\nimport { Interactable as InteractableBase } from './Interactable'\nimport { InteractableSet } from './InteractableSet'\nimport { InteractEvent } from './InteractEvent'\nimport interactions from './interactions'\n/* eslint-enable import/no-duplicates */\nimport { createInteractStatic } from './InteractStatic'\nimport type { OptionsArg } from './options'\nimport { defaults } from './options'\nimport type { Actions } from './types'\n\nexport interface SignalArgs {\n  'scope:add-document': DocSignalArg\n  'scope:remove-document': DocSignalArg\n  'interactable:unset': { interactable: InteractableBase }\n  'interactable:set': { interactable: InteractableBase; options: OptionsArg }\n  'interactions:destroy': { interaction: Interaction }\n}\n\nexport type ListenerName = keyof SignalArgs\n\nexport type ListenerMap = {\n  [P in ListenerName]?: (arg: SignalArgs[P], scope: Scope, signalName: P) => void | boolean\n}\n\ninterface DocSignalArg {\n  doc: Document\n  window: Window\n  scope: Scope\n  options: Record<string, any>\n}\n\n/** @internal */\nexport interface Plugin {\n  [key: string]: any\n  id?: string\n  listeners?: ListenerMap\n  before?: string[]\n  install?(scope: Scope, options?: any): void\n}\n\n/** @internal */\nexport class Scope {\n  id = `__interact_scope_${Math.floor(Math.random() * 100)}`\n  isInitialized = false\n  listenerMaps: Array<{\n    map: ListenerMap\n    id?: string\n  }> = []\n\n  browser = browser\n  defaults = clone(defaults) as typeof defaults\n  Eventable = Eventable\n  actions: Actions = {\n    map: {},\n    phases: {\n      start: true,\n      move: true,\n      end: true,\n    },\n    methodDict: {} as any,\n    phaselessTypes: {},\n  }\n\n  interactStatic = createInteractStatic(this)\n  InteractEvent = InteractEvent\n  Interactable: typeof InteractableBase\n  interactables = new InteractableSet(this)\n\n  // main window\n  _win!: Window\n\n  // main document\n  document!: Document\n\n  // main window\n  window!: Window\n\n  // all documents being listened to\n  documents: Array<{ doc: Document; options: any }> = []\n\n  _plugins: {\n    list: Plugin[]\n    map: { [id: string]: Plugin }\n  } = {\n    list: [],\n    map: {},\n  }\n\n  constructor() {\n    const scope = this\n\n    this.Interactable = class extends InteractableBase {\n      get _defaults() {\n        return scope.defaults\n      }\n\n      set<T extends InteractableBase>(this: T, options: OptionsArg) {\n        super.set(options)\n\n        scope.fire('interactable:set', {\n          options,\n          interactable: this,\n        })\n\n        return this\n      }\n\n      unset(this: InteractableBase) {\n        super.unset()\n\n        const index = scope.interactables.list.indexOf(this)\n        if (index < 0) return\n\n        scope.interactables.list.splice(index, 1)\n        scope.fire('interactable:unset', { interactable: this })\n      }\n    }\n  }\n\n  addListeners(map: ListenerMap, id?: string) {\n    this.listenerMaps.push({ id, map })\n  }\n\n  fire<T extends ListenerName>(name: T, arg: SignalArgs[T]): void | false {\n    for (const {\n      map: { [name]: listener },\n    } of this.listenerMaps) {\n      if (!!listener && listener(arg as any, this, name as never) === false) {\n        return false\n      }\n    }\n  }\n\n  onWindowUnload = (event: BeforeUnloadEvent) => this.removeDocument(event.target as Document)\n\n  init(window: Window | typeof globalThis) {\n    return this.isInitialized ? this : initScope(this, window)\n  }\n\n  pluginIsInstalled(plugin: Plugin) {\n    const { id } = plugin\n    return id ? !!this._plugins.map[id] : this._plugins.list.indexOf(plugin) !== -1\n  }\n\n  usePlugin(plugin: Plugin, options?: { [key: string]: any }) {\n    if (!this.isInitialized) {\n      return this\n    }\n\n    if (this.pluginIsInstalled(plugin)) {\n      return this\n    }\n\n    if (plugin.id) {\n      this._plugins.map[plugin.id] = plugin\n    }\n    this._plugins.list.push(plugin)\n\n    if (plugin.install) {\n      plugin.install(this, options)\n    }\n\n    if (plugin.listeners && plugin.before) {\n      let index = 0\n      const len = this.listenerMaps.length\n      const before = plugin.before.reduce((acc, id) => {\n        acc[id] = true\n        acc[pluginIdRoot(id)] = true\n        return acc\n      }, {})\n\n      for (; index < len; index++) {\n        const otherId = this.listenerMaps[index].id\n\n        if (otherId && (before[otherId] || before[pluginIdRoot(otherId)])) {\n          break\n        }\n      }\n\n      this.listenerMaps.splice(index, 0, { id: plugin.id, map: plugin.listeners })\n    } else if (plugin.listeners) {\n      this.listenerMaps.push({ id: plugin.id, map: plugin.listeners })\n    }\n\n    return this\n  }\n\n  addDocument(doc: Document, options?: any): void | false {\n    // do nothing if document is already known\n    if (this.getDocIndex(doc) !== -1) {\n      return false\n    }\n\n    const window = win.getWindow(doc)\n\n    options = options ? extend({}, options) : {}\n\n    this.documents.push({ doc, options })\n    this.events.documents.push(doc)\n\n    // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n    if (doc !== this.document) {\n      this.events.add(window, 'unload', this.onWindowUnload)\n    }\n\n    this.fire('scope:add-document', { doc, window, scope: this, options })\n  }\n\n  removeDocument(doc: Document) {\n    const index = this.getDocIndex(doc)\n\n    const window = win.getWindow(doc)\n    const options = this.documents[index].options\n\n    this.events.remove(window, 'unload', this.onWindowUnload)\n\n    this.documents.splice(index, 1)\n    this.events.documents.splice(index, 1)\n\n    this.fire('scope:remove-document', { doc, window, scope: this, options })\n  }\n\n  getDocIndex(doc: Document) {\n    for (let i = 0; i < this.documents.length; i++) {\n      if (this.documents[i].doc === doc) {\n        return i\n      }\n    }\n\n    return -1\n  }\n\n  getDocOptions(doc: Document) {\n    const docIndex = this.getDocIndex(doc)\n\n    return docIndex === -1 ? null : this.documents[docIndex].options\n  }\n\n  now() {\n    return (((this.window as any).Date as typeof Date) || Date).now()\n  }\n}\n\n/** @internal */\nexport function initScope(scope: Scope, window: Window | typeof globalThis) {\n  scope.isInitialized = true\n\n  if (is.window(window)) {\n    win.init(window)\n  }\n\n  domObjects.init(window)\n  browser.init(window)\n  raf.init(window)\n\n  // @ts-expect-error\n  scope.window = window\n  scope.document = window.document\n\n  scope.usePlugin(interactions)\n  scope.usePlugin(events)\n\n  return scope\n}\n\nfunction pluginIdRoot(id: string) {\n  return id && id.replace(/\\/.*$/, '')\n}\n"
	],
	"mappings": ";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,GAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,IAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,GAAA,GAAAC,uBAAA,CAAAP,OAAA;AAIA,IAAAQ,UAAA,GAAAR,OAAA;AAEA,IAAAS,OAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,aAAA,GAAAX,sBAAA,CAAAC,OAAA;AAEA,IAAAW,aAAA,GAAAX,OAAA;AACA,IAAAY,gBAAA,GAAAZ,OAAA;AACA,IAAAa,cAAA,GAAAb,OAAA;AAGA,IAAAc,eAAA,GAAAd,OAAA;AAEA,IAAAe,QAAA,GAAAf,OAAA;AAAoC,SAAAgB,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAV,wBAAAU,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA,SAAA1B,uBAAAsC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAhB,UAAA,GAAAgB,GAAA,KAAAf,OAAA,EAAAe,GAAA;AAXpC;;AAQA;;AA2BA;;AASA;AACO,MAAMC,KAAK,CAAC;EACjBC,EAAE,GAAI,oBAAmBC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAE,EAAC;EAC1DC,aAAa,GAAG,KAAK;EACrBC,YAAY,GAGP,EAAE;EAEPC,OAAO,GAAGA,gBAAO;EACjBC,QAAQ,GAAG,IAAAC,cAAK,EAACD,iBAAQ,CAAC;EAC1BE,SAAS,GAAGA,oBAAS;EACrBC,OAAO,GAAY;IACjBC,GAAG,EAAE,CAAC,CAAC;IACPC,MAAM,EAAE;MACNC,KAAK,EAAE,IAAI;MACXC,IAAI,EAAE,IAAI;MACVC,GAAG,EAAE;IACP,CAAC;IACDC,UAAU,EAAE,CAAC,CAAQ;IACrBC,cAAc,EAAE,CAAC;EACnB,CAAC;EAEDC,cAAc,GAAG,IAAAC,oCAAoB,EAAC,IAAI,CAAC;EAC3CC,aAAa,GAAGA,4BAAa;EAC7BC,YAAY;EACZC,aAAa,GAAG,IAAIC,gCAAe,CAAC,IAAI,CAAC;;EAEzC;EACAC,IAAI;;EAEJ;EACAC,QAAQ;;EAER;EACAC,MAAM;;EAEN;EACAC,SAAS,GAA2C,EAAE;EAEtDC,QAAQ,GAGJ;IACFC,IAAI,EAAE,EAAE;IACRlB,GAAG,EAAE,CAAC;EACR,CAAC;EAEDmB,WAAWA,CAAA,EAAG;IACZ,MAAMC,KAAK,GAAG,IAAI;IAElB,IAAI,CAACV,YAAY,GAAG,cAAcW,0BAAgB,CAAC;MACjD,IAAIC,SAASA,CAAA,EAAG;QACd,OAAOF,KAAK,CAACxB,QAAQ;MACvB;MAEAV,GAAGA,CAAsCqC,OAAmB,EAAE;QAC5D,KAAK,CAACrC,GAAG,CAACqC,OAAO,CAAC;QAElBH,KAAK,CAACI,IAAI,CAAC,kBAAkB,EAAE;UAC7BD,OAAO;UACPE,YAAY,EAAE;QAChB,CAAC,CAAC;QAEF,OAAO,IAAI;MACb;MAEAC,KAAKA,CAAA,EAAyB;QAC5B,KAAK,CAACA,KAAK,CAAC,CAAC;QAEb,MAAMC,KAAK,GAAGP,KAAK,CAACT,aAAa,CAACO,IAAI,CAACU,OAAO,CAAC,IAAI,CAAC;QACpD,IAAID,KAAK,GAAG,CAAC,EAAE;QAEfP,KAAK,CAACT,aAAa,CAACO,IAAI,CAACW,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QACzCP,KAAK,CAACI,IAAI,CAAC,oBAAoB,EAAE;UAAEC,YAAY,EAAE;QAAK,CAAC,CAAC;MAC1D;IACF,CAAC;EACH;EAEAK,YAAYA,CAAC9B,GAAgB,EAAEX,EAAW,EAAE;IAC1C,IAAI,CAACK,YAAY,CAACqC,IAAI,CAAC;MAAE1C,EAAE;MAAEW;IAAI,CAAC,CAAC;EACrC;EAEAwB,IAAIA,CAAyBQ,IAAO,EAAEC,GAAkB,EAAgB;IACtE,KAAK,MAAM;MACTjC,GAAG,EAAE;QAAE,CAACgC,IAAI,GAAGE;MAAS;IAC1B,CAAC,IAAI,IAAI,CAACxC,YAAY,EAAE;MACtB,IAAI,CAAC,CAACwC,QAAQ,IAAIA,QAAQ,CAACD,GAAG,EAAS,IAAI,EAAED,IAAa,CAAC,KAAK,KAAK,EAAE;QACrE,OAAO,KAAK;MACd;IACF;EACF;EAEAG,cAAc,GAAIC,KAAwB,IAAK,IAAI,CAACC,cAAc,CAACD,KAAK,CAACE,MAAkB,CAAC;EAE5FC,IAAIA,CAACxB,MAAkC,EAAE;IACvC,OAAO,IAAI,CAACtB,aAAa,GAAG,IAAI,GAAG+C,SAAS,CAAC,IAAI,EAAEzB,MAAM,CAAC;EAC5D;EAEA0B,iBAAiBA,CAACC,MAAc,EAAE;IAChC,MAAM;MAAErD;IAAG,CAAC,GAAGqD,MAAM;IACrB,OAAOrD,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC4B,QAAQ,CAACjB,GAAG,CAACX,EAAE,CAAC,GAAG,IAAI,CAAC4B,QAAQ,CAACC,IAAI,CAACU,OAAO,CAACc,MAAM,CAAC,KAAK,CAAC,CAAC;EACjF;EAEAC,SAASA,CAACD,MAAc,EAAEnB,OAAgC,EAAE;IAC1D,IAAI,CAAC,IAAI,CAAC9B,aAAa,EAAE;MACvB,OAAO,IAAI;IACb;IAEA,IAAI,IAAI,CAACgD,iBAAiB,CAACC,MAAM,CAAC,EAAE;MAClC,OAAO,IAAI;IACb;IAEA,IAAIA,MAAM,CAACrD,EAAE,EAAE;MACb,IAAI,CAAC4B,QAAQ,CAACjB,GAAG,CAAC0C,MAAM,CAACrD,EAAE,CAAC,GAAGqD,MAAM;IACvC;IACA,IAAI,CAACzB,QAAQ,CAACC,IAAI,CAACa,IAAI,CAACW,MAAM,CAAC;IAE/B,IAAIA,MAAM,CAACE,OAAO,EAAE;MAClBF,MAAM,CAACE,OAAO,CAAC,IAAI,EAAErB,OAAO,CAAC;IAC/B;IAEA,IAAImB,MAAM,CAACG,SAAS,IAAIH,MAAM,CAACI,MAAM,EAAE;MACrC,IAAInB,KAAK,GAAG,CAAC;MACb,MAAMoB,GAAG,GAAG,IAAI,CAACrD,YAAY,CAACsD,MAAM;MACpC,MAAMF,MAAM,GAAGJ,MAAM,CAACI,MAAM,CAACG,MAAM,CAAC,CAACC,GAAG,EAAE7D,EAAE,KAAK;QAC/C6D,GAAG,CAAC7D,EAAE,CAAC,GAAG,IAAI;QACd6D,GAAG,CAACC,YAAY,CAAC9D,EAAE,CAAC,CAAC,GAAG,IAAI;QAC5B,OAAO6D,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;MAEN,OAAOvB,KAAK,GAAGoB,GAAG,EAAEpB,KAAK,EAAE,EAAE;QAC3B,MAAMyB,OAAO,GAAG,IAAI,CAAC1D,YAAY,CAACiC,KAAK,CAAC,CAACtC,EAAE;QAE3C,IAAI+D,OAAO,KAAKN,MAAM,CAACM,OAAO,CAAC,IAAIN,MAAM,CAACK,YAAY,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE;UACjE;QACF;MACF;MAEA,IAAI,CAAC1D,YAAY,CAACmC,MAAM,CAACF,KAAK,EAAE,CAAC,EAAE;QAAEtC,EAAE,EAAEqD,MAAM,CAACrD,EAAE;QAAEW,GAAG,EAAE0C,MAAM,CAACG;MAAU,CAAC,CAAC;IAC9E,CAAC,MAAM,IAAIH,MAAM,CAACG,SAAS,EAAE;MAC3B,IAAI,CAACnD,YAAY,CAACqC,IAAI,CAAC;QAAE1C,EAAE,EAAEqD,MAAM,CAACrD,EAAE;QAAEW,GAAG,EAAE0C,MAAM,CAACG;MAAU,CAAC,CAAC;IAClE;IAEA,OAAO,IAAI;EACb;EAEAQ,WAAWA,CAACC,GAAa,EAAE/B,OAAa,EAAgB;IACtD;IACA,IAAI,IAAI,CAACgC,WAAW,CAACD,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;MAChC,OAAO,KAAK;IACd;IAEA,MAAMvC,MAAM,GAAG3D,GAAG,CAACoG,SAAS,CAACF,GAAG,CAAC;IAEjC/B,OAAO,GAAGA,OAAO,GAAG,IAAAkC,eAAM,EAAC,CAAC,CAAC,EAAElC,OAAO,CAAC,GAAG,CAAC,CAAC;IAE5C,IAAI,CAACP,SAAS,CAACe,IAAI,CAAC;MAAEuB,GAAG;MAAE/B;IAAQ,CAAC,CAAC;IACrC,IAAI,CAACmC,MAAM,CAAC1C,SAAS,CAACe,IAAI,CAACuB,GAAG,CAAC;;IAE/B;IACA;IACA,IAAIA,GAAG,KAAK,IAAI,CAACxC,QAAQ,EAAE;MACzB,IAAI,CAAC4C,MAAM,CAACC,GAAG,CAAC5C,MAAM,EAAE,QAAQ,EAAE,IAAI,CAACoB,cAAc,CAAC;IACxD;IAEA,IAAI,CAACX,IAAI,CAAC,oBAAoB,EAAE;MAAE8B,GAAG;MAAEvC,MAAM;MAAEK,KAAK,EAAE,IAAI;MAAEG;IAAQ,CAAC,CAAC;EACxE;EAEAc,cAAcA,CAACiB,GAAa,EAAE;IAC5B,MAAM3B,KAAK,GAAG,IAAI,CAAC4B,WAAW,CAACD,GAAG,CAAC;IAEnC,MAAMvC,MAAM,GAAG3D,GAAG,CAACoG,SAAS,CAACF,GAAG,CAAC;IACjC,MAAM/B,OAAO,GAAG,IAAI,CAACP,SAAS,CAACW,KAAK,CAAC,CAACJ,OAAO;IAE7C,IAAI,CAACmC,MAAM,CAACE,MAAM,CAAC7C,MAAM,EAAE,QAAQ,EAAE,IAAI,CAACoB,cAAc,CAAC;IAEzD,IAAI,CAACnB,SAAS,CAACa,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC+B,MAAM,CAAC1C,SAAS,CAACa,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAEtC,IAAI,CAACH,IAAI,CAAC,uBAAuB,EAAE;MAAE8B,GAAG;MAAEvC,MAAM;MAAEK,KAAK,EAAE,IAAI;MAAEG;IAAQ,CAAC,CAAC;EAC3E;EAEAgC,WAAWA,CAACD,GAAa,EAAE;IACzB,KAAK,IAAIrE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+B,SAAS,CAACgC,MAAM,EAAE/D,CAAC,EAAE,EAAE;MAC9C,IAAI,IAAI,CAAC+B,SAAS,CAAC/B,CAAC,CAAC,CAACqE,GAAG,KAAKA,GAAG,EAAE;QACjC,OAAOrE,CAAC;MACV;IACF;IAEA,OAAO,CAAC,CAAC;EACX;EAEA4E,aAAaA,CAACP,GAAa,EAAE;IAC3B,MAAMQ,QAAQ,GAAG,IAAI,CAACP,WAAW,CAACD,GAAG,CAAC;IAEtC,OAAOQ,QAAQ,KAAK,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC9C,SAAS,CAAC8C,QAAQ,CAAC,CAACvC,OAAO;EAClE;EAEAwC,GAAGA,CAAA,EAAG;IACJ,OAAO,CAAG,IAAI,CAAChD,MAAM,CAASiD,IAAI,IAAoBA,IAAI,EAAED,GAAG,CAAC,CAAC;EACnE;AACF;;AAEA;AAAAE,OAAA,CAAA7E,KAAA,GAAAA,KAAA;AACO,SAASoD,SAASA,CAACpB,KAAY,EAAEL,MAAkC,EAAE;EAC1EK,KAAK,CAAC3B,aAAa,GAAG,IAAI;EAE1B,IAAIyE,WAAE,CAACnD,MAAM,CAACA,MAAM,CAAC,EAAE;IACrB3D,GAAG,CAACmF,IAAI,CAACxB,MAAM,CAAC;EAClB;EAEAoD,mBAAU,CAAC5B,IAAI,CAACxB,MAAM,CAAC;EACvBpB,gBAAO,CAAC4C,IAAI,CAACxB,MAAM,CAAC;EACpBqD,YAAG,CAAC7B,IAAI,CAACxB,MAAM,CAAC;;EAEhB;EACAK,KAAK,CAACL,MAAM,GAAGA,MAAM;EACrBK,KAAK,CAACN,QAAQ,GAAGC,MAAM,CAACD,QAAQ;EAEhCM,KAAK,CAACuB,SAAS,CAAC0B,qBAAY,CAAC;EAC7BjD,KAAK,CAACuB,SAAS,CAACe,eAAM,CAAC;EAEvB,OAAOtC,KAAK;AACd;AAEA,SAAS+B,YAAYA,CAAC9D,EAAU,EAAE;EAChC,OAAOA,EAAE,IAAIA,EAAE,CAACiF,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;AACtC"
}