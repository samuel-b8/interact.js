{
	"version": 3,
	"names": [
		"arr",
		"e",
		"r",
		"__esModule",
		"default",
		"t",
		"_getRequireWildcardCache",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"_interopRequireWildcard",
		"require",
		"_extendProd",
		"_interopRequireDefault",
		"_normalizeListenersProd",
		"obj",
		"WeakMap",
		"fireUntilImmediateStopped",
		"event",
		"listeners",
		"listener",
		"immediatePropagationStopped",
		"exports",
		"Eventable",
		"options",
		"types",
		"propagationStopped",
		"global",
		"constructor",
		"this",
		"extend",
		"fire",
		"type",
		"on",
		"normalize",
		"merge",
		"off",
		"eventList",
		"length",
		"subListener",
		"index",
		"indexOf",
		"splice",
		"getRect",
		"_element"
	],
	"sources": [
		"Eventable.ts"
	],
	"sourcesContent": [
		"import * as arr from '@interactjs/utils/arr'\nimport extend from '@interactjs/utils/extend'\nimport type { NormalizedListeners } from '@interactjs/utils/normalizeListeners'\nimport normalize from '@interactjs/utils/normalizeListeners'\n\nimport type { Listener, ListenersArg, Rect } from '@interactjs/core/types'\n\nfunction fireUntilImmediateStopped(event: any, listeners: Listener[]) {\n  for (const listener of listeners) {\n    if (event.immediatePropagationStopped) {\n      break\n    }\n\n    listener(event)\n  }\n}\n\nexport class Eventable {\n  options: any\n  types: NormalizedListeners = {}\n  propagationStopped = false\n  immediatePropagationStopped = false\n  global: any\n\n  constructor(options?: { [index: string]: any }) {\n    this.options = extend({}, options || {})\n  }\n\n  fire<T extends { type: string; propagationStopped?: boolean }>(event: T) {\n    let listeners: Listener[]\n    const global = this.global\n\n    // Interactable#on() listeners\n    // tslint:disable no-conditional-assignment\n    if ((listeners = this.types[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n\n    // interact.on() listeners\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n  }\n\n  on(type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      this.types[type] = arr.merge(this.types[type] || [], listeners[type])\n    }\n  }\n\n  off(type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      const eventList = this.types[type]\n\n      if (!eventList || !eventList.length) {\n        continue\n      }\n\n      for (const subListener of listeners[type]) {\n        const index = eventList.indexOf(subListener)\n\n        if (index !== -1) {\n          eventList.splice(index, 1)\n        }\n      }\n    }\n  }\n\n  getRect(_element: Element): Rect {\n    return null\n  }\n}\n"
	],
	"mappings": "gFAAA,IAAAA,EAG4D,EAAAC,EAAAC,KAAA,GAAAD,KAAAE,WAAA,OAAAF,EAAA,UAAAA,GAAA,iBAAAA,GAAA,mBAAAA,EAAA,OAAAG,QAAAH,GAAA,IAAAI,EAAAC,EAAAJ,GAAA,GAAAG,KAAAE,IAAAN,GAAA,OAAAI,EAAAG,IAAAP,GAAA,IAAAQ,EAAA,CAAAC,UAAA,MAAAC,EAAAC,OAAAC,gBAAAD,OAAAE,yBAAA,QAAAC,KAAAd,EAAA,eAAAc,GAAAH,OAAAI,UAAAC,eAAAC,KAAAjB,EAAAc,GAAA,KAAAI,EAAAR,EAAAC,OAAAE,yBAAAb,EAAAc,GAAA,KAAAI,MAAAX,KAAAW,EAAAC,KAAAR,OAAAC,eAAAJ,EAAAM,EAAAI,GAAAV,EAAAM,GAAAd,EAAAc,EAAA,QAAAN,EAAAL,QAAAH,EAAAI,KAAAe,IAAAnB,EAAAQ,IAAA,EAH5DY,CAAAC,QAAA,yBACAC,EAAAC,EAAAF,QAAA,4BAEAG,EAAAD,EAAAF,QAAA,wCAA4D,SAAAE,EAAAE,GAAA,OAAAA,KAAAvB,WAAAuB,EAAA,CAAAtB,QAAAsB,EAAA,UAAApB,EAAAL,GAAA,sBAAA0B,QAAA,gBAAAzB,EAAA,IAAAyB,QAAAtB,EAAA,IAAAsB,QAAA,OAAArB,EAAAL,KAAAI,EAAAH,GAAAD,EAAA,CAI5D,SAAS2B,EAA0BC,EAAYC,GAC7C,IAAK,MAAMC,KAAYD,EAAW,CAChC,GAAID,EAAMG,4BACR,MAGFD,EAASF,EACX,CACF,CA4DCI,QAAAC,UA1DM,MACLC,QACAC,MAA6B,CAAC,EAC9BC,oBAAqB,EACrBL,6BAA8B,EAC9BM,OAEAC,YAAYJ,GACVK,KAAKL,SAAU,EAAAM,WAAO,CAAC,EAAGN,GAAW,CAAC,EACxC,CAEAO,KAA+Db,GAC7D,IAAIC,EACJ,MAAMQ,EAASE,KAAKF,QAIfR,EAAYU,KAAKJ,MAAMP,EAAMc,QAChCf,EAA0BC,EAAOC,IAI9BD,EAAMQ,oBAAsBC,IAAWR,EAAYQ,EAAOT,EAAMc,QACnEf,EAA0BC,EAAOC,EAErC,CAEAc,GAAGD,EAAcZ,GACf,MAAMD,GAAY,EAAAe,WAAUF,EAAMZ,GAElC,IAAKY,KAAQb,EACXU,KAAKJ,MAAMO,GAAQ3C,EAAI8C,MAAMN,KAAKJ,MAAMO,IAAS,GAAIb,EAAUa,GAEnE,CAEAI,IAAIJ,EAAcZ,GAChB,MAAMD,GAAY,EAAAe,WAAUF,EAAMZ,GAElC,IAAKY,KAAQb,EAAW,CACtB,MAAMkB,EAAYR,KAAKJ,MAAMO,GAE7B,GAAKK,GAAcA,EAAUC,OAI7B,IAAK,MAAMC,KAAepB,EAAUa,GAAO,CACzC,MAAMQ,EAAQH,EAAUI,QAAQF,IAEjB,IAAXC,GACFH,EAAUK,OAAOF,EAAO,EAE5B,CACF,CACF,CAEAG,QAAQC,GACN,OAAO,IACT"
}