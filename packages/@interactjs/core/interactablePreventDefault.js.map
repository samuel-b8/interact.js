{
	"version": 3,
	"names": [
		"_domUtils",
		"require",
		"_is",
		"_interopRequireDefault",
		"_window",
		"obj",
		"__esModule",
		"default",
		"preventDefault",
		"newValue",
		"test",
		"options",
		"is",
		"bool",
		"checkAndPreventDefault",
		"interactable",
		"scope",
		"event",
		"setting",
		"events",
		"supportsPassive",
		"type",
		"doc",
		"getWindow",
		"target",
		"document",
		"docOptions",
		"getDocOptions",
		"passive",
		"element",
		"matchesSelector",
		"onInteractionEvent",
		"interaction",
		"install",
		"Interactable",
		"prototype",
		"interactions",
		"docEvents",
		"push",
		"listener",
		"list",
		"nodeContains",
		"_default",
		"exports",
		"id",
		"listeners",
		"reduce",
		"acc",
		"eventType"
	],
	"sources": [
		"interactablePreventDefault.ts"
	],
	"sourcesContent": [
		"import { matchesSelector, nodeContains } from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\nimport { getWindow } from '@interactjs/utils/window'\n\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { Scope } from '@interactjs/core/scope'\nimport type { PointerEventType } from '@interactjs/core/types'\n\ntype PreventDefaultValue = 'always' | 'never' | 'auto'\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    preventDefault(newValue: PreventDefaultValue): this\n    preventDefault(): PreventDefaultValue\n    /**\n     * Returns or sets whether to prevent the browser's default behaviour in\n     * response to pointer events. Can be set to:\n     *  - `'always'` to always prevent\n     *  - `'never'` to never prevent\n     *  - `'auto'` to let interact.js try to determine what would be best\n     *\n     * @param newValue - `'always'`, `'never'` or `'auto'`\n     * @returns The current setting or this Interactable\n     */\n    preventDefault(newValue?: PreventDefaultValue): PreventDefaultValue | this\n    checkAndPreventDefault(event: Event): void\n  }\n}\n\nconst preventDefault = function preventDefault(this: Interactable, newValue?: PreventDefaultValue) {\n  if (/^(always|never|auto)$/.test(newValue)) {\n    this.options.preventDefault = newValue\n    return this\n  }\n\n  if (is.bool(newValue)) {\n    this.options.preventDefault = newValue ? 'always' : 'never'\n    return this\n  }\n\n  return this.options.preventDefault\n} as Interactable['preventDefault']\n\nfunction checkAndPreventDefault(interactable: Interactable, scope: Scope, event: Event) {\n  const setting = interactable.options.preventDefault\n\n  if (setting === 'never') return\n\n  if (setting === 'always') {\n    event.preventDefault()\n    return\n  }\n\n  // setting === 'auto'\n\n  // if the browser supports passive event listeners and isn't running on iOS,\n  // don't preventDefault of touch{start,move} events. CSS touch-action and\n  // user-select should be used instead of calling event.preventDefault().\n  if (scope.events.supportsPassive && /^touch(start|move)$/.test(event.type)) {\n    const doc = getWindow(event.target).document\n    const docOptions = scope.getDocOptions(doc)\n\n    if (!(docOptions && docOptions.events) || docOptions.events.passive !== false) {\n      return\n    }\n  }\n\n  // don't preventDefault of pointerdown events\n  if (/^(mouse|pointer|touch)*(down|start)/i.test(event.type)) {\n    return\n  }\n\n  // don't preventDefault on editable elements\n  if (\n    is.element(event.target) &&\n    matchesSelector(event.target, 'input,select,textarea,[contenteditable=true],[contenteditable=true] *')\n  ) {\n    return\n  }\n\n  event.preventDefault()\n}\n\nfunction onInteractionEvent({ interaction, event }: { interaction: Interaction; event: PointerEventType }) {\n  if (interaction.interactable) {\n    interaction.interactable.checkAndPreventDefault(event as Event)\n  }\n}\n\nexport function install(scope: Scope) {\n  const { Interactable } = scope\n\n  Interactable.prototype.preventDefault = preventDefault\n\n  Interactable.prototype.checkAndPreventDefault = function (event) {\n    return checkAndPreventDefault(this, scope, event)\n  }\n\n  // prevent native HTML5 drag on interact.js target elements\n  scope.interactions.docEvents.push({\n    type: 'dragstart',\n    listener(event) {\n      for (const interaction of scope.interactions.list) {\n        if (\n          interaction.element &&\n          (interaction.element === event.target || nodeContains(interaction.element, event.target))\n        ) {\n          interaction.interactable.checkAndPreventDefault(event)\n          return\n        }\n      }\n    },\n  })\n}\n\nexport default {\n  id: 'core/interactablePreventDefault',\n  install,\n  listeners: ['down', 'move', 'up', 'cancel'].reduce((acc, eventType) => {\n    acc[`interactions:${eventType}`] = onInteractionEvent\n    return acc\n  }, {} as any),\n}\n"
	],
	"mappings": ";;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,GAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AAAoD,SAAAE,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AA4BpD,MAAMG,cAAc,GAAG,SAASA,cAAcA,CAAqBC,QAA8B,EAAE;EACjG,IAAI,uBAAuB,CAACC,IAAI,CAACD,QAAQ,CAAC,EAAE;IAC1C,IAAI,CAACE,OAAO,CAACH,cAAc,GAAGC,QAAQ;IACtC,OAAO,IAAI;EACb;EAEA,IAAIG,WAAE,CAACC,IAAI,CAACJ,QAAQ,CAAC,EAAE;IACrB,IAAI,CAACE,OAAO,CAACH,cAAc,GAAGC,QAAQ,GAAG,QAAQ,GAAG,OAAO;IAC3D,OAAO,IAAI;EACb;EAEA,OAAO,IAAI,CAACE,OAAO,CAACH,cAAc;AACpC,CAAmC;AAEnC,SAASM,sBAAsBA,CAACC,YAA0B,EAAEC,KAAY,EAAEC,KAAY,EAAE;EACtF,MAAMC,OAAO,GAAGH,YAAY,CAACJ,OAAO,CAACH,cAAc;EAEnD,IAAIU,OAAO,KAAK,OAAO,EAAE;EAEzB,IAAIA,OAAO,KAAK,QAAQ,EAAE;IACxBD,KAAK,CAACT,cAAc,CAAC,CAAC;IACtB;EACF;;EAEA;;EAEA;EACA;EACA;EACA,IAAIQ,KAAK,CAACG,MAAM,CAACC,eAAe,IAAI,qBAAqB,CAACV,IAAI,CAACO,KAAK,CAACI,IAAI,CAAC,EAAE;IAC1E,MAAMC,GAAG,GAAG,IAAAC,iBAAS,EAACN,KAAK,CAACO,MAAM,CAAC,CAACC,QAAQ;IAC5C,MAAMC,UAAU,GAAGV,KAAK,CAACW,aAAa,CAACL,GAAG,CAAC;IAE3C,IAAI,EAAEI,UAAU,IAAIA,UAAU,CAACP,MAAM,CAAC,IAAIO,UAAU,CAACP,MAAM,CAACS,OAAO,KAAK,KAAK,EAAE;MAC7E;IACF;EACF;;EAEA;EACA,IAAI,sCAAsC,CAAClB,IAAI,CAACO,KAAK,CAACI,IAAI,CAAC,EAAE;IAC3D;EACF;;EAEA;EACA,IACET,WAAE,CAACiB,OAAO,CAACZ,KAAK,CAACO,MAAM,CAAC,IACxB,IAAAM,yBAAe,EAACb,KAAK,CAACO,MAAM,EAAE,uEAAuE,CAAC,EACtG;IACA;EACF;EAEAP,KAAK,CAACT,cAAc,CAAC,CAAC;AACxB;AAEA,SAASuB,kBAAkBA,CAAC;EAAEC,WAAW;EAAEf;AAA6D,CAAC,EAAE;EACzG,IAAIe,WAAW,CAACjB,YAAY,EAAE;IAC5BiB,WAAW,CAACjB,YAAY,CAACD,sBAAsB,CAACG,KAAc,CAAC;EACjE;AACF;AAEO,SAASgB,OAAOA,CAACjB,KAAY,EAAE;EACpC,MAAM;IAAEkB;EAAa,CAAC,GAAGlB,KAAK;EAE9BkB,YAAY,CAACC,SAAS,CAAC3B,cAAc,GAAGA,cAAc;EAEtD0B,YAAY,CAACC,SAAS,CAACrB,sBAAsB,GAAG,UAAUG,KAAK,EAAE;IAC/D,OAAOH,sBAAsB,CAAC,IAAI,EAAEE,KAAK,EAAEC,KAAK,CAAC;EACnD,CAAC;;EAED;EACAD,KAAK,CAACoB,YAAY,CAACC,SAAS,CAACC,IAAI,CAAC;IAChCjB,IAAI,EAAE,WAAW;IACjBkB,QAAQA,CAACtB,KAAK,EAAE;MACd,KAAK,MAAMe,WAAW,IAAIhB,KAAK,CAACoB,YAAY,CAACI,IAAI,EAAE;QACjD,IACER,WAAW,CAACH,OAAO,KAClBG,WAAW,CAACH,OAAO,KAAKZ,KAAK,CAACO,MAAM,IAAI,IAAAiB,sBAAY,EAACT,WAAW,CAACH,OAAO,EAAEZ,KAAK,CAACO,MAAM,CAAC,CAAC,EACzF;UACAQ,WAAW,CAACjB,YAAY,CAACD,sBAAsB,CAACG,KAAK,CAAC;UACtD;QACF;MACF;IACF;EACF,CAAC,CAAC;AACJ;AAAC,IAAAyB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAEc;EACbqC,EAAE,EAAE,iCAAiC;EACrCX,OAAO;EACPY,SAAS,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,SAAS,KAAK;IACrED,GAAG,CAAE,gBAAeC,SAAU,EAAC,CAAC,GAAGjB,kBAAkB;IACrD,OAAOgB,GAAG;EACZ,CAAC,EAAE,CAAC,CAAQ;AACd,CAAC"
}