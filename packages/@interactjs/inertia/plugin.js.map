{
	"version": 3,
	"names": [
		"modifiers",
		"_interopRequireWildcard",
		"require",
		"_plugin",
		"_interopRequireDefault",
		"_Modification",
		"dom",
		"_hypot",
		"_is",
		"_pointerUtils",
		"_raf",
		"obj",
		"__esModule",
		"default",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"install",
		"scope",
		"defaults",
		"usePlugin",
		"offset",
		"actions",
		"phases",
		"inertiastart",
		"resume",
		"perAction",
		"inertia",
		"enabled",
		"resistance",
		"minSpeed",
		"endSpeed",
		"allowResume",
		"smoothEndDuration",
		"InertiaState",
		"active",
		"isModified",
		"smoothEnd",
		"modification",
		"modifierCount",
		"modifierArg",
		"startCoords",
		"t0",
		"v0",
		"te",
		"targetOffset",
		"modifiedOffset",
		"currentOffset",
		"lambda_v0",
		"one_ve_v0",
		"timeout",
		"interaction",
		"constructor",
		"start",
		"event",
		"options",
		"getOptions",
		"client",
		"velocityClient",
		"coords",
		"velocity",
		"pointerSpeed",
		"hypot",
		"x",
		"y",
		"Modification",
		"copyFrom",
		"_now",
		"cur",
		"page",
		"fillArg",
		"pageCoords",
		"preEnd",
		"phase",
		"thrown",
		"timeStamp",
		"startInertia",
		"result",
		"setAll",
		"changed",
		"startSmoothEnd",
		"rect",
		"offsetBy",
		"_doPhase",
		"simulation",
		"startVelocity",
		"lambda",
		"inertiaDur",
		"Math",
		"log",
		"delta",
		"onNextFrame",
		"inertiaTick",
		"smoothEndTick",
		"tickFn",
		"raf",
		"request",
		"progress",
		"exp",
		"newOffset",
		"getQuadraticCurvePoint",
		"move",
		"end",
		"duration",
		"easeOutQuad",
		"skipModifiers",
		"pointer",
		"eventTarget",
		"updatePointer",
		"copyCoords",
		"prev",
		"stop",
		"cancel",
		"exports",
		"_interacting",
		"started",
		"arg",
		"state",
		"element",
		"is",
		"parentNode",
		"interactable",
		"prepared",
		"name",
		"id",
		"before",
		"listeners",
		"interactions:new",
		"applyToInteraction",
		"setAndApply",
		"addEventModifiers",
		"restoreInteractionCoords",
		"_getQBezierValue",
		"p1",
		"p2",
		"p3",
		"iT",
		"startX",
		"startY",
		"cpX",
		"cpY",
		"endX",
		"endY",
		"position",
		"b",
		"c",
		"d",
		"_default"
	],
	"sources": [
		"plugin.ts"
	],
	"sourcesContent": [
		"import type { Interaction, DoPhaseArg } from '@interactjs/core/Interaction'\nimport type { Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport type { ActionName, Point, PointerEventType } from '@interactjs/core/types'\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport '@interactjs/modifiers/base'\nimport '@interactjs/offset/plugin'\nimport * as modifiers from '@interactjs/modifiers/base'\nimport { Modification } from '@interactjs/modifiers/Modification'\nimport type { ModifierArg } from '@interactjs/modifiers/types'\nimport offset from '@interactjs/offset/plugin'\n/* eslint-enable import/no-duplicates */\nimport * as dom from '@interactjs/utils/domUtils'\nimport hypot from '@interactjs/utils/hypot'\nimport is from '@interactjs/utils/is'\nimport { copyCoords } from '@interactjs/utils/pointerUtils'\nimport raf from '@interactjs/utils/raf'\n\ndeclare module '@interactjs/core/InteractEvent' {\n  interface PhaseMap {\n    resume?: true\n    inertiastart?: true\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    inertia?: InertiaState\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface PerActionDefaults {\n    inertia?: {\n      enabled?: boolean\n      resistance?: number // the lambda in exponential decay\n      minSpeed?: number // target speed must be above this for inertia to start\n      endSpeed?: number // the speed at which inertia is slow enough to stop\n      allowResume?: true // allow resuming an action in inertia phase\n      smoothEndDuration?: number // animate to snap/restrict endOnly if there's no inertia\n    }\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactions:before-action-inertiastart': Omit<DoPhaseArg<ActionName, 'inertiastart'>, 'iEvent'>\n    'interactions:action-inertiastart': DoPhaseArg<ActionName, 'inertiastart'>\n    'interactions:after-action-inertiastart': DoPhaseArg<ActionName, 'inertiastart'>\n    'interactions:before-action-resume': Omit<DoPhaseArg<ActionName, 'resume'>, 'iEvent'>\n    'interactions:action-resume': DoPhaseArg<ActionName, 'resume'>\n    'interactions:after-action-resume': DoPhaseArg<ActionName, 'resume'>\n  }\n}\n\nfunction install(scope: Scope) {\n  const { defaults } = scope\n\n  scope.usePlugin(offset)\n  scope.usePlugin(modifiers.default)\n  scope.actions.phases.inertiastart = true\n  scope.actions.phases.resume = true\n\n  defaults.perAction.inertia = {\n    enabled: false,\n    resistance: 10, // the lambda in exponential decay\n    minSpeed: 100, // target speed must be above this for inertia to start\n    endSpeed: 10, // the speed at which inertia is slow enough to stop\n    allowResume: true, // allow resuming an action in inertia phase\n    smoothEndDuration: 300, // animate to snap/restrict endOnly if there's no inertia\n  }\n}\n\nexport class InertiaState {\n  active = false\n  isModified = false\n  smoothEnd = false\n  allowResume = false\n\n  modification!: Modification\n  modifierCount = 0\n  modifierArg!: ModifierArg\n\n  startCoords!: Point\n  t0 = 0\n  v0 = 0\n\n  te = 0\n  targetOffset!: Point\n  modifiedOffset!: Point\n  currentOffset!: Point\n\n  lambda_v0? = 0 // eslint-disable-line camelcase\n  one_ve_v0? = 0 // eslint-disable-line camelcase\n  timeout!: number\n  readonly interaction: Interaction\n\n  constructor(interaction: Interaction) {\n    this.interaction = interaction\n  }\n\n  start(event: PointerEventType) {\n    const { interaction } = this\n    const options = getOptions(interaction)\n\n    if (!options || !options.enabled) {\n      return false\n    }\n\n    const { client: velocityClient } = interaction.coords.velocity\n    const pointerSpeed = hypot(velocityClient.x, velocityClient.y)\n    const modification = this.modification || (this.modification = new Modification(interaction))\n\n    modification.copyFrom(interaction.modification)\n\n    this.t0 = interaction._now()\n    this.allowResume = options.allowResume\n    this.v0 = pointerSpeed\n    this.currentOffset = { x: 0, y: 0 }\n    this.startCoords = interaction.coords.cur.page\n\n    this.modifierArg = modification.fillArg({\n      pageCoords: this.startCoords,\n      preEnd: true,\n      phase: 'inertiastart',\n    })\n\n    const thrown =\n      this.t0 - interaction.coords.cur.timeStamp < 50 &&\n      pointerSpeed > options.minSpeed &&\n      pointerSpeed > options.endSpeed\n\n    if (thrown) {\n      this.startInertia()\n    } else {\n      modification.result = modification.setAll(this.modifierArg)\n\n      if (!modification.result.changed) {\n        return false\n      }\n\n      this.startSmoothEnd()\n    }\n\n    // force modification change\n    interaction.modification.result.rect = null\n\n    // bring inertiastart event to the target coords\n    interaction.offsetBy(this.targetOffset)\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'inertiastart',\n    })\n    interaction.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y })\n    // force modification change\n    interaction.modification.result.rect = null\n\n    this.active = true\n    interaction.simulation = this\n\n    return true\n  }\n\n  startInertia() {\n    const startVelocity = this.interaction.coords.velocity.client\n    const options = getOptions(this.interaction)\n    const lambda = options.resistance\n    const inertiaDur = -Math.log(options.endSpeed / this.v0) / lambda\n\n    this.targetOffset = {\n      x: (startVelocity.x - inertiaDur) / lambda,\n      y: (startVelocity.y - inertiaDur) / lambda,\n    }\n\n    this.te = inertiaDur\n    this.lambda_v0 = lambda / this.v0\n    this.one_ve_v0 = 1 - options.endSpeed / this.v0\n\n    const { modification, modifierArg } = this\n\n    modifierArg.pageCoords = {\n      x: this.startCoords.x + this.targetOffset.x,\n      y: this.startCoords.y + this.targetOffset.y,\n    }\n\n    modification.result = modification.setAll(modifierArg)\n\n    if (modification.result.changed) {\n      this.isModified = true\n      this.modifiedOffset = {\n        x: this.targetOffset.x + modification.result.delta.x,\n        y: this.targetOffset.y + modification.result.delta.y,\n      }\n    }\n\n    this.onNextFrame(() => this.inertiaTick())\n  }\n\n  startSmoothEnd() {\n    this.smoothEnd = true\n    this.isModified = true\n    this.targetOffset = {\n      x: this.modification.result.delta.x,\n      y: this.modification.result.delta.y,\n    }\n\n    this.onNextFrame(() => this.smoothEndTick())\n  }\n\n  onNextFrame(tickFn: () => void) {\n    this.timeout = raf.request(() => {\n      if (this.active) {\n        tickFn()\n      }\n    })\n  }\n\n  inertiaTick() {\n    const { interaction } = this\n    const options = getOptions(interaction)\n    const lambda = options.resistance\n    const t = (interaction._now() - this.t0) / 1000\n\n    if (t < this.te) {\n      const progress = 1 - (Math.exp(-lambda * t) - this.lambda_v0) / this.one_ve_v0\n      let newOffset: Point\n\n      if (this.isModified) {\n        newOffset = getQuadraticCurvePoint(\n          0,\n          0,\n          this.targetOffset.x,\n          this.targetOffset.y,\n          this.modifiedOffset.x,\n          this.modifiedOffset.y,\n          progress,\n        )\n      } else {\n        newOffset = {\n          x: this.targetOffset.x * progress,\n          y: this.targetOffset.y * progress,\n        }\n      }\n\n      const delta = { x: newOffset.x - this.currentOffset.x, y: newOffset.y - this.currentOffset.y }\n\n      this.currentOffset.x += delta.x\n      this.currentOffset.y += delta.y\n\n      interaction.offsetBy(delta)\n      interaction.move()\n\n      this.onNextFrame(() => this.inertiaTick())\n    } else {\n      interaction.offsetBy({\n        x: this.modifiedOffset.x - this.currentOffset.x,\n        y: this.modifiedOffset.y - this.currentOffset.y,\n      })\n\n      this.end()\n    }\n  }\n\n  smoothEndTick() {\n    const { interaction } = this\n    const t = interaction._now() - this.t0\n    const { smoothEndDuration: duration } = getOptions(interaction)\n\n    if (t < duration) {\n      const newOffset = {\n        x: easeOutQuad(t, 0, this.targetOffset.x, duration),\n        y: easeOutQuad(t, 0, this.targetOffset.y, duration),\n      }\n      const delta = {\n        x: newOffset.x - this.currentOffset.x,\n        y: newOffset.y - this.currentOffset.y,\n      }\n\n      this.currentOffset.x += delta.x\n      this.currentOffset.y += delta.y\n\n      interaction.offsetBy(delta)\n      interaction.move({ skipModifiers: this.modifierCount })\n\n      this.onNextFrame(() => this.smoothEndTick())\n    } else {\n      interaction.offsetBy({\n        x: this.targetOffset.x - this.currentOffset.x,\n        y: this.targetOffset.y - this.currentOffset.y,\n      })\n\n      this.end()\n    }\n  }\n\n  resume({ pointer, event, eventTarget }: SignalArgs['interactions:down']) {\n    const { interaction } = this\n\n    // undo inertia changes to interaction coords\n    interaction.offsetBy({\n      x: -this.currentOffset.x,\n      y: -this.currentOffset.y,\n    })\n\n    // update pointer at pointer down position\n    interaction.updatePointer(pointer, event, eventTarget, true)\n\n    // fire resume signals and event\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'resume',\n    })\n    copyCoords(interaction.coords.prev, interaction.coords.cur)\n\n    this.stop()\n  }\n\n  end() {\n    this.interaction.move()\n    this.interaction.end()\n    this.stop()\n  }\n\n  stop() {\n    this.active = this.smoothEnd = false\n    this.interaction.simulation = null\n    raf.cancel(this.timeout)\n  }\n}\n\nfunction start({ interaction, event }: DoPhaseArg<ActionName, 'end'>) {\n  if (!interaction._interacting || interaction.simulation) {\n    return null\n  }\n\n  const started = interaction.inertia.start(event)\n\n  // prevent action end if inertia or smoothEnd\n  return started ? false : null\n}\n\n// Check if the down event hits the current inertia target\n// control should be return to the user\nfunction resume(arg: SignalArgs['interactions:down']) {\n  const { interaction, eventTarget } = arg\n  const state = interaction.inertia\n\n  if (!state.active) return\n\n  let element = eventTarget as Node\n\n  // climb up the DOM tree from the event target\n  while (is.element(element)) {\n    // if interaction element is the current inertia target element\n    if (element === interaction.element) {\n      state.resume(arg)\n      break\n    }\n\n    element = dom.parentNode(element)\n  }\n}\n\nfunction stop({ interaction }: { interaction: Interaction }) {\n  const state = interaction.inertia\n\n  if (state.active) {\n    state.stop()\n  }\n}\n\nfunction getOptions({ interactable, prepared }: Interaction) {\n  return interactable && interactable.options && prepared.name && interactable.options[prepared.name].inertia\n}\n\nconst inertia: Plugin = {\n  id: 'inertia',\n  before: ['modifiers', 'actions'],\n  install,\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.inertia = new InertiaState(interaction)\n    },\n\n    'interactions:before-action-end': start,\n    'interactions:down': resume,\n    'interactions:stop': stop,\n\n    'interactions:before-action-resume': (arg) => {\n      const { modification } = arg.interaction\n\n      modification.stop(arg)\n      modification.start(arg, arg.interaction.coords.cur.page)\n      modification.applyToInteraction(arg)\n    },\n\n    'interactions:before-action-inertiastart': (arg) => arg.interaction.modification.setAndApply(arg),\n    'interactions:action-resume': modifiers.addEventModifiers,\n    'interactions:action-inertiastart': modifiers.addEventModifiers,\n    'interactions:after-action-inertiastart': (arg) =>\n      arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:after-action-resume': (arg) => arg.interaction.modification.restoreInteractionCoords(arg),\n  },\n}\n\n// http://stackoverflow.com/a/5634528/2280888\nfunction _getQBezierValue(t: number, p1: number, p2: number, p3: number) {\n  const iT = 1 - t\n  return iT * iT * p1 + 2 * iT * t * p2 + t * t * p3\n}\n\nfunction getQuadraticCurvePoint(\n  startX: number,\n  startY: number,\n  cpX: number,\n  cpY: number,\n  endX: number,\n  endY: number,\n  position: number,\n) {\n  return {\n    x: _getQBezierValue(position, startX, cpX, endX),\n    y: _getQBezierValue(position, startY, cpY, endY),\n  }\n}\n\n// http://gizma.com/easing/\nfunction easeOutQuad(t: number, b: number, c: number, d: number) {\n  t /= d\n  return -c * t * (t - 2) + b\n}\n\nexport default inertia\n"
	],
	"mappings": "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"
}