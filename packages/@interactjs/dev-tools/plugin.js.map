{
	"version": 3,
	"names": [
		"domObjects",
		"parentNode",
		"extend",
		"is",
		"isNonNativeEvent",
		"normalizeListeners",
		"win",
		"visualizer",
		"CheckName",
		"prefix",
		"links",
		"touchAction",
		"boxSizing",
		"isProduction",
		"install",
		"scope",
		"logger",
		"Interactable",
		"defaults",
		"console",
		"base",
		"devTools",
		"ignore",
		"prototype",
		"options",
		"_onOff",
		"method",
		"typeArg",
		"listenerArg",
		"filter",
		"string",
		"target",
		"addEventListener",
		"call",
		"object",
		"array",
		"normalizedListeners",
		"type",
		"actions",
		"warn",
		"usePlugin",
		"checks",
		"name",
		"perform",
		"element",
		"parentHasStyle",
		"getInfo",
		"text",
		"interaction",
		"prepared",
		"HTMLElement",
		"hasStyle",
		"noListeners",
		"_interaction$interact",
		"actionName",
		"moveListeners",
		"interactable",
		"events",
		"types",
		"length",
		"prop",
		"styleRe",
		"value",
		"style",
		"window",
		"getComputedStyle",
		"test",
		"toString",
		"parent",
		"id",
		"defaultExport",
		"listeners",
		"interactions:action-start",
		"check"
	],
	"sources": [
		"plugin.ts"
	],
	"sourcesContent": [
		"import type Interaction from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { Element, OptionMethod } from '@interactjs/core/types'\nimport domObjects from '@interactjs/utils/domObjects'\nimport { parentNode } from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport isNonNativeEvent from '@interactjs/utils/isNonNativeEvent'\nimport normalizeListeners from '@interactjs/utils/normalizeListeners'\nimport * as win from '@interactjs/utils/window'\n\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './visualizer/plugin'\nimport visualizer from './visualizer/plugin'\n/* eslint-enable import/no-duplicates */\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    logger: Logger\n  }\n}\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    visializer: typeof visualizer\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface BaseDefaults {\n    devTools?: DevToolsOptions\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    devTools: OptionMethod<DevToolsOptions>\n  }\n}\n\nexport interface DevToolsOptions {\n  ignore: { [P in keyof typeof CheckName]?: boolean }\n}\n\nexport interface Logger {\n  warn: (...args: any[]) => void\n  error: (...args: any[]) => void\n  log: (...args: any[]) => void\n}\n\nexport interface Check {\n  name: CheckName\n  text: string\n  perform: (interaction: Interaction) => boolean\n  getInfo: (interaction: Interaction) => any[]\n}\n\nenum CheckName {\n  touchAction = 'touchAction',\n  boxSizing = 'boxSizing',\n  noListeners = 'noListeners',\n}\n\nconst prefix = '[interact.js] '\nconst links = {\n  touchAction: 'https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action',\n  boxSizing: 'https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing',\n}\n\n// eslint-disable-next-line no-undef\nconst isProduction = process.env.NODE_ENV === 'production'\n\nfunction install(scope: Scope, { logger }: { logger?: Logger } = {}) {\n  const { Interactable, defaults } = scope\n\n  scope.logger = logger || console\n\n  defaults.base.devTools = {\n    ignore: {},\n  }\n\n  Interactable.prototype.devTools = function (options?: object) {\n    if (options) {\n      extend(this.options.devTools, options)\n      return this\n    }\n\n    return this.options.devTools\n  }\n\n  // can't set native events on non string targets without `addEventListener` prop\n  const { _onOff } = Interactable.prototype\n  Interactable.prototype._onOff = function (method, typeArg, listenerArg, options, filter) {\n    if (is.string(this.target) || this.target.addEventListener) {\n      return _onOff.call(this, method, typeArg, listenerArg, options, filter)\n    }\n\n    if (is.object(typeArg) && !is.array(typeArg)) {\n      options = listenerArg\n      listenerArg = null\n    }\n\n    const normalizedListeners = normalizeListeners(typeArg, listenerArg, filter)\n\n    for (const type in normalizedListeners) {\n      if (isNonNativeEvent(type, scope.actions)) continue\n      scope.logger.warn(\n        prefix +\n          `Can't add native \"${type}\" event listener to target without \\`addEventListener(type, listener, options)\\` prop.`,\n      )\n    }\n\n    return _onOff.call(this, method, normalizedListeners, options)\n  }\n  scope.usePlugin(visualizer)\n}\n\nconst checks: Check[] = [\n  {\n    name: CheckName.touchAction,\n    perform({ element }) {\n      return !!element && !parentHasStyle(element, 'touchAction', /pan-|pinch|none/)\n    },\n    getInfo({ element }) {\n      return [element, links.touchAction]\n    },\n    text: 'Consider adding CSS \"touch-action: none\" to this element\\n',\n  },\n\n  {\n    name: CheckName.boxSizing,\n    perform(interaction) {\n      const { element } = interaction\n\n      return (\n        interaction.prepared.name === 'resize' &&\n        element instanceof domObjects.HTMLElement &&\n        !hasStyle(element, 'boxSizing', /border-box/)\n      )\n    },\n    text: 'Consider adding CSS \"box-sizing: border-box\" to this resizable element',\n    getInfo({ element }) {\n      return [element, links.boxSizing]\n    },\n  },\n\n  {\n    name: CheckName.noListeners,\n    perform(interaction) {\n      const actionName = interaction.prepared.name\n      const moveListeners = interaction.interactable?.events.types[`${actionName}move`] || []\n\n      return !moveListeners.length\n    },\n    getInfo(interaction) {\n      return [interaction.prepared.name, interaction.interactable]\n    },\n    text: 'There are no listeners set for this action',\n  },\n]\n\nfunction hasStyle(element: HTMLElement, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  const value = element.style[prop] || win.window.getComputedStyle(element)[prop]\n  return styleRe.test((value || '').toString())\n}\n\nfunction parentHasStyle(element: Element, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  let parent = element as HTMLElement\n\n  while (is.element(parent)) {\n    if (hasStyle(parent, prop, styleRe)) {\n      return true\n    }\n\n    parent = parentNode(parent) as HTMLElement\n  }\n\n  return false\n}\n\nconst id = 'dev-tools'\nconst defaultExport: Plugin = isProduction\n  ? { id, install: () => {} }\n  : {\n      id,\n      install,\n      listeners: {\n        'interactions:action-start': ({ interaction }, scope) => {\n          for (const check of checks) {\n            const options = interaction.interactable && interaction.interactable.options\n\n            if (\n              !(options && options.devTools && options.devTools.ignore[check.name]) &&\n              check.perform(interaction)\n            ) {\n              scope.logger.warn(prefix + check.text, ...check.getInfo(interaction))\n            }\n          }\n        },\n      },\n      checks,\n      CheckName,\n      links,\n      prefix,\n    }\n\nexport default defaultExport\n"
	],
	"mappings": "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"
}