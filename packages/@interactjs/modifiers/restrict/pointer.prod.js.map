{
	"version": 3,
	"names": [
		"_extendProd",
		"_interopRequireDefault",
		"require",
		"_isProd",
		"rectUtils",
		"e",
		"r",
		"__esModule",
		"default",
		"t",
		"_getRequireWildcardCache",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"_interopRequireWildcard",
		"_base",
		"WeakMap",
		"obj",
		"getRestrictionRect",
		"value",
		"interaction",
		"coords",
		"is",
		"func",
		"resolveRectLike",
		"interactable",
		"element",
		"x",
		"y",
		"restrict",
		"exports",
		"start",
		"rect",
		"startOffset",
		"state",
		"pageCoords",
		"options",
		"elementRect",
		"offset",
		"extend",
		"left",
		"top",
		"right",
		"bottom",
		"restriction",
		"widthDiff",
		"width",
		"heightDiff",
		"height",
		"xywhToTlbr",
		"Math",
		"max",
		"min",
		"defaults",
		"endOnly",
		"enabled",
		"makeModifier"
	],
	"sources": [
		"pointer.ts"
	],
	"sourcesContent": [
		"import type Interaction from '@interactjs/core/Interaction'\nimport type { RectResolvable, Rect, Point } from '@interactjs/core/types'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport { makeModifier } from '../base'\nimport type { ModifierArg, ModifierModule, ModifierState } from '../types'\n\nexport interface RestrictOptions {\n  // where to drag over\n  restriction: RectResolvable<[number, number, Interaction]>\n  // what part of self is allowed to drag over\n  elementRect: Rect\n  offset: Rect\n  // restrict just before the end drag\n  endOnly: boolean\n  enabled?: boolean\n}\n\nexport type RestrictState = ModifierState<\n  RestrictOptions,\n  {\n    offset: Rect\n  }\n>\n\nfunction start({ rect, startOffset, state, interaction, pageCoords }: ModifierArg<RestrictState>) {\n  const { options } = state\n  const { elementRect } = options\n  const offset: Rect = extend(\n    {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n    },\n    options.offset || {},\n  )\n\n  if (rect && elementRect) {\n    const restriction = getRestrictionRect(options.restriction, interaction, pageCoords)\n\n    if (restriction) {\n      const widthDiff = restriction.right - restriction.left - rect.width\n      const heightDiff = restriction.bottom - restriction.top - rect.height\n\n      if (widthDiff < 0) {\n        offset.left += widthDiff\n        offset.right += widthDiff\n      }\n      if (heightDiff < 0) {\n        offset.top += heightDiff\n        offset.bottom += heightDiff\n      }\n    }\n\n    offset.left += startOffset.left - rect.width * elementRect.left\n    offset.top += startOffset.top - rect.height * elementRect.top\n\n    offset.right += startOffset.right - rect.width * (1 - elementRect.right)\n    offset.bottom += startOffset.bottom - rect.height * (1 - elementRect.bottom)\n  }\n\n  state.offset = offset\n}\n\nfunction set({ coords, interaction, state }: ModifierArg<RestrictState>) {\n  const { options, offset } = state\n\n  const restriction = getRestrictionRect(options.restriction, interaction, coords)\n\n  if (!restriction) return\n\n  const rect = rectUtils.xywhToTlbr(restriction)\n\n  coords.x = Math.max(Math.min(rect.right - offset.right, coords.x), rect.left + offset.left)\n  coords.y = Math.max(Math.min(rect.bottom - offset.bottom, coords.y), rect.top + offset.top)\n}\n\nexport function getRestrictionRect(\n  value: RectResolvable<[number, number, Interaction]>,\n  interaction: Interaction,\n  coords?: Point,\n) {\n  if (is.func(value)) {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element, [\n      coords.x,\n      coords.y,\n      interaction,\n    ])\n  } else {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element)\n  }\n}\n\nconst defaults: RestrictOptions = {\n  restriction: null,\n  elementRect: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrict: ModifierModule<RestrictOptions, RestrictState> = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrict, 'restrict')\nexport { restrict }\n"
	],
	"mappings": "mIAEA,IAAAA,EAAAC,EAAAC,QAAA,+BACAC,EAAAF,EAAAC,QAAA,2BACAE,EAEsC,EAAAC,EAAAC,KAAA,GAAAD,KAAAE,WAAA,OAAAF,EAAA,UAAAA,GAAA,iBAAAA,GAAA,mBAAAA,EAAA,OAAAG,QAAAH,GAAA,IAAAI,EAAAC,EAAAJ,GAAA,GAAAG,KAAAE,IAAAN,GAAA,OAAAI,EAAAG,IAAAP,GAAA,IAAAQ,EAAA,CAAAC,UAAA,MAAAC,EAAAC,OAAAC,gBAAAD,OAAAE,yBAAA,QAAAC,KAAAd,EAAA,eAAAc,GAAAH,OAAAI,UAAAC,eAAAC,KAAAjB,EAAAc,GAAA,KAAAI,EAAAR,EAAAC,OAAAE,yBAAAb,EAAAc,GAAA,KAAAI,MAAAX,KAAAW,EAAAC,KAAAR,OAAAC,eAAAJ,EAAAM,EAAAI,GAAAV,EAAAM,GAAAd,EAAAc,EAAA,QAAAN,EAAAL,QAAAH,EAAAI,KAAAe,IAAAnB,EAAAQ,IAAA,EAFtCY,CAAAvB,QAAA,6BAEAwB,EAAAxB,QAAA,WAAsC,SAAAQ,EAAAL,GAAA,sBAAAsB,QAAA,gBAAArB,EAAA,IAAAqB,QAAAlB,EAAA,IAAAkB,QAAA,OAAAjB,EAAAL,KAAAI,EAAAH,GAAAD,EAAA,UAAAJ,EAAA2B,GAAA,OAAAA,KAAArB,WAAAqB,EAAA,CAAApB,QAAAoB,EAAA,CA0E/B,SAASC,EACdC,EACAC,EACAC,GAEA,OAAIC,UAAGC,KAAKJ,GACH1B,EAAU+B,gBAAgBL,EAAOC,EAAYK,aAAcL,EAAYM,QAAS,CACrFL,EAAOM,EACPN,EAAOO,EACPR,IAGK3B,EAAU+B,gBAAgBL,EAAOC,EAAYK,aAAcL,EAAYM,QAElF,CAEA,MAQMG,EAAwDC,QAAAD,SAAG,CAC/DE,OA9EaC,KAAEA,EAAIC,YAAEA,EAAWC,MAAEA,EAAKd,YAAEA,EAAWe,WAAEA,IACtD,MAAMC,QAAEA,GAAYF,GACdG,YAAEA,GAAgBD,EAClBE,GAAe,EAAAC,WACnB,CACEC,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,OAAQ,GAEVP,EAAQE,QAAU,CAAC,GAGrB,GAAIN,GAAQK,EAAa,CACvB,MAAMO,EAAc1B,EAAmBkB,EAAQQ,YAAaxB,EAAae,GAEzE,GAAIS,EAAa,CACf,MAAMC,EAAYD,EAAYF,MAAQE,EAAYJ,KAAOR,EAAKc,MACxDC,EAAaH,EAAYD,OAASC,EAAYH,IAAMT,EAAKgB,OAE3DH,EAAY,IACdP,EAAOE,MAAQK,EACfP,EAAOI,OAASG,GAEdE,EAAa,IACfT,EAAOG,KAAOM,EACdT,EAAOK,QAAUI,EAErB,CAEAT,EAAOE,MAAQP,EAAYO,KAAOR,EAAKc,MAAQT,EAAYG,KAC3DF,EAAOG,KAAOR,EAAYQ,IAAMT,EAAKgB,OAASX,EAAYI,IAE1DH,EAAOI,OAAST,EAAYS,MAAQV,EAAKc,OAAS,EAAIT,EAAYK,OAClEJ,EAAOK,QAAUV,EAAYU,OAASX,EAAKgB,QAAU,EAAIX,EAAYM,OACvE,CAEAT,EAAMI,OAASA,CACjB,EAyCEzB,KAvCWQ,OAAEA,EAAMD,YAAEA,EAAWc,MAAEA,IAClC,MAAME,QAAEA,EAAOE,OAAEA,GAAWJ,EAEtBU,EAAc1B,EAAmBkB,EAAQQ,YAAaxB,EAAaC,GAEzE,IAAKuB,EAAa,OAElB,MAAMZ,EAAOvC,EAAUwD,WAAWL,GAElCvB,EAAOM,EAAIuB,KAAKC,IAAID,KAAKE,IAAIpB,EAAKU,MAAQJ,EAAOI,MAAOrB,EAAOM,GAAIK,EAAKQ,KAAOF,EAAOE,MACtFnB,EAAOO,EAAIsB,KAAKC,IAAID,KAAKE,IAAIpB,EAAKW,OAASL,EAAOK,OAAQtB,EAAOO,GAAII,EAAKS,IAAMH,EAAOG,IACzF,EA6BEY,SAXgC,CAChCT,YAAa,KACbP,YAAa,KACbC,OAAQ,KACRgB,SAAS,EACTC,SAAS,IAOVzB,QAAAjC,SAEc,EAAA2D,gBAAa3B,EAAU"
}