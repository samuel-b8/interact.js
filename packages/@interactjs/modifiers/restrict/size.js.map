{
	"version": 3,
	"names": [
		"_extend",
		"_interopRequireDefault",
		"require",
		"rectUtils",
		"_interopRequireWildcard",
		"_base",
		"_edges",
		"_pointer",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"__esModule",
		"default",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"obj",
		"noMin",
		"width",
		"Infinity",
		"height",
		"noMax",
		"start",
		"arg",
		"restrictEdges",
		"interaction",
		"state",
		"rect",
		"edges",
		"options",
		"minSize",
		"tlbrToXywh",
		"getRestrictionRect",
		"min",
		"coords",
		"maxSize",
		"max",
		"endOnly",
		"inner",
		"extend",
		"noInner",
		"outer",
		"noOuter",
		"top",
		"bottom",
		"left",
		"right",
		"defaults",
		"enabled",
		"restrictSize",
		"exports",
		"_default",
		"makeModifier"
	],
	"sources": [
		"size.ts"
	],
	"sourcesContent": [
		"import type { Point, Rect, Size } from '@interactjs/core/types'\nimport extend from '@interactjs/utils/extend'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport { makeModifier } from '../base'\nimport type { ModifierArg, ModifierState } from '../types'\n\nimport type { RestrictEdgesState } from './edges'\nimport { restrictEdges } from './edges'\nimport type { RestrictOptions } from './pointer'\nimport { getRestrictionRect } from './pointer'\n\nconst noMin = { width: -Infinity, height: -Infinity }\nconst noMax = { width: +Infinity, height: +Infinity }\n\nexport interface RestrictSizeOptions {\n  min?: Size | Point | RestrictOptions['restriction']\n  max?: Size | Point | RestrictOptions['restriction']\n  endOnly: boolean\n  enabled?: boolean\n}\n\nfunction start(arg: ModifierArg<RestrictEdgesState>) {\n  return restrictEdges.start(arg)\n}\n\nexport type RestrictSizeState = RestrictEdgesState &\n  ModifierState<\n    RestrictSizeOptions & { inner: Rect; outer: Rect },\n    {\n      min: Rect\n      max: Rect\n    }\n  >\n\nfunction set(arg: ModifierArg<RestrictSizeState>) {\n  const { interaction, state, rect, edges } = arg\n  const { options } = state\n\n  if (!edges) {\n    return\n  }\n\n  const minSize =\n    rectUtils.tlbrToXywh(getRestrictionRect(options.min as any, interaction, arg.coords)) || noMin\n  const maxSize =\n    rectUtils.tlbrToXywh(getRestrictionRect(options.max as any, interaction, arg.coords)) || noMax\n\n  state.options = {\n    endOnly: options.endOnly,\n    inner: extend({}, restrictEdges.noInner),\n    outer: extend({}, restrictEdges.noOuter),\n  }\n\n  if (edges.top) {\n    state.options.inner.top = rect.bottom - minSize.height\n    state.options.outer.top = rect.bottom - maxSize.height\n  } else if (edges.bottom) {\n    state.options.inner.bottom = rect.top + minSize.height\n    state.options.outer.bottom = rect.top + maxSize.height\n  }\n  if (edges.left) {\n    state.options.inner.left = rect.right - minSize.width\n    state.options.outer.left = rect.right - maxSize.width\n  } else if (edges.right) {\n    state.options.inner.right = rect.left + minSize.width\n    state.options.outer.right = rect.left + maxSize.width\n  }\n\n  restrictEdges.set(arg)\n\n  state.options = options\n}\n\nconst defaults: RestrictSizeOptions = {\n  min: null,\n  max: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrictSize = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrictSize, 'restrictSize')\nexport { restrictSize }\n"
	],
	"mappings": "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"
}