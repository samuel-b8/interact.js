Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getRestrictionRect=s,exports.restrict=void 0;var t=n(require("../../utils/extend.prod.js")),e=n(require("../../utils/is.prod.js")),r=((t,e)=>{if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=n?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=t[s]}return o.default=t,r&&r.set(t,o),o})(require("../../utils/rect.prod.js")),o=require("../base");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=t=>t?r:e)(t)}function n(t){return t&&t.__esModule?t:{default:t}}function s(t,o,i){return e.default.func(t)?r.resolveRectLike(t,o.interactable,o.element,[i.x,i.y,o]):r.resolveRectLike(t,o.interactable,o.element)}const l=exports.restrict={start({rect:e,startOffset:r,state:o,interaction:i,pageCoords:n}){const{options:l}=o,{elementRect:f}=l,a=(0,t.default)({left:0,top:0,right:0,bottom:0},l.offset||{});if(e&&f){const t=s(l.restriction,i,n);if(t){const r=t.right-t.left-e.width,o=t.bottom-t.top-e.height;r<0&&(a.left+=r,a.right+=r),o<0&&(a.top+=o,a.bottom+=o)}a.left+=r.left-e.width*f.left,a.top+=r.top-e.height*f.top,a.right+=r.right-e.width*(1-f.right),a.bottom+=r.bottom-e.height*(1-f.bottom)}o.offset=a},set({coords:t,interaction:e,state:o}){const{options:i,offset:n}=o,l=s(i.restriction,e,t);if(!l)return;const f=r.xywhToTlbr(l);t.x=Math.max(Math.min(f.right-n.right,t.x),f.left+n.left),t.y=Math.max(Math.min(f.bottom-n.bottom,t.y),f.top+n.top)},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};exports.default=(0,o.makeModifier)(l,"restrict");
//# sourceMappingURL=pointer.prod.js.map