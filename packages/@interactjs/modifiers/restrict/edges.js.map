{
	"version": 3,
	"names": [
		"_extend",
		"_interopRequireDefault",
		"require",
		"rectUtils",
		"_interopRequireWildcard",
		"_base",
		"_pointer",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"__esModule",
		"default",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"obj",
		"noInner",
		"top",
		"Infinity",
		"left",
		"bottom",
		"right",
		"noOuter",
		"start",
		"interaction",
		"startOffset",
		"state",
		"options",
		"offset",
		"offsetRect",
		"getRestrictionRect",
		"coords",
		"page",
		"rectToXY",
		"x",
		"y",
		"edges",
		"extend",
		"inner",
		"outer",
		"fixRect",
		"Math",
		"min",
		"max",
		"rect",
		"defaults",
		"edge",
		"endOnly",
		"enabled",
		"restrictEdges",
		"exports",
		"_default",
		"makeModifier"
	],
	"sources": [
		"edges.ts"
	],
	"sourcesContent": [
		"// This modifier adds the options.resize.restrictEdges setting which sets min and\n// max for the top, left, bottom and right edges of the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictEdges: {\n//     inner: { top: 200, left: 200, right: 400, bottom: 400 },\n//     outer: { top:   0, left:   0, right: 600, bottom: 600 },\n//   },\n// })\n\nimport type { Point, Rect } from '@interactjs/core/types'\nimport extend from '@interactjs/utils/extend'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport { makeModifier } from '../base'\nimport type { ModifierArg, ModifierState } from '../types'\n\nimport type { RestrictOptions } from './pointer'\nimport { getRestrictionRect } from './pointer'\n\nexport interface RestrictEdgesOptions {\n  inner: RestrictOptions['restriction']\n  outer: RestrictOptions['restriction']\n  offset?: RestrictOptions['offset']\n  endOnly: boolean\n  enabled?: boolean\n}\n\nexport type RestrictEdgesState = ModifierState<\n  RestrictEdgesOptions,\n  {\n    inner: Rect\n    outer: Rect\n    offset: RestrictEdgesOptions['offset']\n  }\n>\n\nconst noInner = { top: +Infinity, left: +Infinity, bottom: -Infinity, right: -Infinity }\nconst noOuter = { top: -Infinity, left: -Infinity, bottom: +Infinity, right: +Infinity }\n\nfunction start({ interaction, startOffset, state }: ModifierArg<RestrictEdgesState>) {\n  const { options } = state\n  let offset: Point\n\n  if (options) {\n    const offsetRect = getRestrictionRect(options.offset, interaction, interaction.coords.start.page)\n\n    offset = rectUtils.rectToXY(offsetRect)\n  }\n\n  offset = offset || { x: 0, y: 0 }\n\n  state.offset = {\n    top: offset.y + startOffset.top,\n    left: offset.x + startOffset.left,\n    bottom: offset.y - startOffset.bottom,\n    right: offset.x - startOffset.right,\n  }\n}\n\nfunction set({ coords, edges, interaction, state }: ModifierArg<RestrictEdgesState>) {\n  const { offset, options } = state\n\n  if (!edges) {\n    return\n  }\n\n  const page = extend({}, coords)\n  const inner = getRestrictionRect(options.inner, interaction, page) || ({} as Rect)\n  const outer = getRestrictionRect(options.outer, interaction, page) || ({} as Rect)\n\n  fixRect(inner, noInner)\n  fixRect(outer, noOuter)\n\n  if (edges.top) {\n    coords.y = Math.min(Math.max(outer.top + offset.top, page.y), inner.top + offset.top)\n  } else if (edges.bottom) {\n    coords.y = Math.max(Math.min(outer.bottom + offset.bottom, page.y), inner.bottom + offset.bottom)\n  }\n  if (edges.left) {\n    coords.x = Math.min(Math.max(outer.left + offset.left, page.x), inner.left + offset.left)\n  } else if (edges.right) {\n    coords.x = Math.max(Math.min(outer.right + offset.right, page.x), inner.right + offset.right)\n  }\n}\n\nfunction fixRect(rect: Rect, defaults: Rect) {\n  for (const edge of ['top', 'left', 'bottom', 'right']) {\n    if (!(edge in rect)) {\n      rect[edge] = defaults[edge]\n    }\n  }\n\n  return rect\n}\n\nconst defaults: RestrictEdgesOptions = {\n  inner: null,\n  outer: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrictEdges = {\n  noInner,\n  noOuter,\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrictEdges, 'restrictEdges')\nexport { restrictEdges }\n"
	],
	"mappings": "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"
}