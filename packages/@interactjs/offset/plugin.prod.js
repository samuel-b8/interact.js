Object.defineProperty(exports,"__esModule",{value:!0}),exports.addTotal=o,exports.applyPending=i,exports.default=void 0;var e=require("../core/Interaction.prod.js"),t=((e,t)=>{if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var s=i?Object.getOwnPropertyDescriptor(e,f):null;s&&(s.get||s.set)?Object.defineProperty(r,f,s):r[f]=e[f]}return r.default=e,o&&o.set(e,r),r})(require("../utils/rect.prod.js"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=e=>e?o:t)(e)}function o(e){e.pointerIsDown&&(s(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function r({interaction:e}){i(e)}function i(e){if(!(e=>!(!e.offset.pending.x&&!e.offset.pending.y))(e))return!1;const{pending:n}=e.offset;return s(e.coords.cur,n),s(e.coords.delta,n),t.addEdges(e.edges,e.rect,n),n.x=0,n.y=0,!0}function f({x:e,y:t}){this.offset.pending.x+=e,this.offset.pending.y+=t,this.offset.total.x+=e,this.offset.total.y+=t}function s({page:e,client:t},{x:n,y:o}){e.x+=n,e.y+=o,t.x+=n,t.y+=o}e._ProxyMethods.offsetBy="";const a={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install(e){e.Interaction.prototype.offsetBy=f},listeners:{"interactions:new"({interaction:e}){e.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":({interaction:e})=>o(e),"interactions:before-action-start":r,"interactions:before-action-move":r,"interactions:before-action-end"({interaction:e}){if(i(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop"({interaction:e}){e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};exports.default=a;
//# sourceMappingURL=plugin.prod.js.map