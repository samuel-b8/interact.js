{
	"version": 3,
	"names": [
		"_Interaction",
		"require",
		"rectUtils",
		"_interopRequireWildcard",
		"_getRequireWildcardCache",
		"e",
		"WeakMap",
		"r",
		"t",
		"__esModule",
		"default",
		"has",
		"get",
		"n",
		"__proto__",
		"a",
		"Object",
		"defineProperty",
		"getOwnPropertyDescriptor",
		"u",
		"prototype",
		"hasOwnProperty",
		"call",
		"i",
		"set",
		"_ProxyMethods",
		"offsetBy",
		"addTotal",
		"interaction",
		"pointerIsDown",
		"addToCoords",
		"coords",
		"cur",
		"offset",
		"total",
		"pending",
		"x",
		"y",
		"beforeAction",
		"applyPending",
		"beforeEnd",
		"hadPending",
		"move",
		"end",
		"hasPending",
		"delta",
		"addEdges",
		"edges",
		"rect",
		"page",
		"client",
		"id",
		"before",
		"install",
		"scope",
		"Interaction",
		"listeners",
		"interactions:new",
		"interactions:update-pointer",
		"_default",
		"exports"
	],
	"sources": [
		"plugin.ts"
	],
	"sourcesContent": [
		"import type Interaction from '@interactjs/core/Interaction'\nimport { _ProxyMethods } from '@interactjs/core/Interaction'\nimport type { Plugin } from '@interactjs/core/scope'\nimport type { Point } from '@interactjs/core/types'\nimport * as rectUtils from '@interactjs/utils/rect'\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    offsetBy?: typeof offsetBy\n    offset: {\n      total: Point\n      pending: Point\n    }\n  }\n\n  enum _ProxyMethods {\n    offsetBy = '',\n  }\n}\n\n;(_ProxyMethods as any).offsetBy = ''\n\nexport function addTotal(interaction: Interaction) {\n  if (!interaction.pointerIsDown) {\n    return\n  }\n\n  addToCoords(interaction.coords.cur, interaction.offset.total)\n\n  interaction.offset.pending.x = 0\n  interaction.offset.pending.y = 0\n}\n\nfunction beforeAction({ interaction }: { interaction: Interaction }) {\n  applyPending(interaction)\n}\n\nfunction beforeEnd({ interaction }: { interaction: Interaction }): boolean | void {\n  const hadPending = applyPending(interaction)\n\n  if (!hadPending) return\n\n  interaction.move({ offset: true })\n  interaction.end()\n\n  return false\n}\n\nfunction end({ interaction }: { interaction: Interaction }) {\n  interaction.offset.total.x = 0\n  interaction.offset.total.y = 0\n  interaction.offset.pending.x = 0\n  interaction.offset.pending.y = 0\n}\n\nexport function applyPending(interaction: Interaction) {\n  if (!hasPending(interaction)) {\n    return false\n  }\n\n  const { pending } = interaction.offset\n\n  addToCoords(interaction.coords.cur, pending)\n  addToCoords(interaction.coords.delta, pending)\n  rectUtils.addEdges(interaction.edges, interaction.rect, pending)\n\n  pending.x = 0\n  pending.y = 0\n\n  return true\n}\n\nfunction offsetBy(this: Interaction, { x, y }: Point) {\n  this.offset.pending.x += x\n  this.offset.pending.y += y\n\n  this.offset.total.x += x\n  this.offset.total.y += y\n}\n\nfunction addToCoords({ page, client }, { x, y }: Point) {\n  page.x += x\n  page.y += y\n  client.x += x\n  client.y += y\n}\n\nfunction hasPending(interaction: Interaction) {\n  return !!(interaction.offset.pending.x || interaction.offset.pending.y)\n}\n\nconst offset: Plugin = {\n  id: 'offset',\n  before: ['modifiers', 'pointer-events', 'actions', 'inertia'],\n  install(scope) {\n    scope.Interaction.prototype.offsetBy = offsetBy\n  },\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.offset = {\n        total: { x: 0, y: 0 },\n        pending: { x: 0, y: 0 },\n      }\n    },\n    'interactions:update-pointer': ({ interaction }) => addTotal(interaction),\n    'interactions:before-action-start': beforeAction,\n    'interactions:before-action-move': beforeAction,\n    'interactions:before-action-end': beforeEnd,\n    'interactions:stop': end,\n  },\n}\n\nexport default offset\n"
	],
	"mappings": "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"
}