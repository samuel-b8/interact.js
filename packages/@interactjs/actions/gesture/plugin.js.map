{
	"version": 3,
	"names": [
		"is",
		"pointerUtils",
		"install",
		"scope",
		"actions",
		"Interactable",
		"defaults",
		"prototype",
		"gesturable",
		"options",
		"object",
		"gesture",
		"enabled",
		"setPerAction",
		"setOnEvents",
		"bool",
		"map",
		"methodDict",
		"updateGestureProps",
		"interaction",
		"iEvent",
		"phase",
		"prepared",
		"name",
		"pointers",
		"p",
		"pointer",
		"starting",
		"ending",
		"deltaSource",
		"interactable",
		"touches",
		"distance",
		"touchDistance",
		"box",
		"touchBBox",
		"scale",
		"ds",
		"angle",
		"touchAngle",
		"da",
		"startDistance",
		"startAngle",
		"length",
		"prevEvent",
		"number",
		"Infinity",
		"isNaN",
		"id",
		"before",
		"listeners",
		"interactions:new",
		"arg",
		"undefined",
		"gestureOptions",
		"action",
		"getCursor",
		"filterEventType",
		"type",
		"search"
	],
	"sources": [
		"plugin.ts"
	],
	"sourcesContent": [
		"import type { Interactable } from '@interactjs/core/Interactable'\nimport type { InteractEvent, EventPhase } from '@interactjs/core/InteractEvent'\nimport type { Interaction, DoPhaseArg } from '@interactjs/core/Interaction'\nimport type { PerActionDefaults } from '@interactjs/core/options'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { Rect, PointerType, ListenersArg, OrBoolean } from '@interactjs/core/types'\nimport is from '@interactjs/utils/is'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    gesture?: {\n      angle: number // angle from first to second touch\n      distance: number\n      scale: number // gesture.distance / gesture.startDistance\n      startAngle: number // angle of line joining two touches\n      startDistance: number // distance between two touches of touchStart\n    }\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    gesturable(options: Partial<OrBoolean<GesturableOptions>> | boolean): this\n    gesturable(): GesturableOptions\n    /**\n     * ```js\n     * interact(element).gesturable({\n     *     onstart: function (event) {},\n     *     onmove : function (event) {},\n     *     onend  : function (event) {},\n     *\n     *     // limit multiple gestures.\n     *     // See the explanation in {@link Interactable.draggable} example\n     *     max: Infinity,\n     *     maxPerElement: 1,\n     * })\n     *\n     * var isGestureable = interact(element).gesturable()\n     * ```\n     *\n     * Gets or sets whether multitouch gestures can be performed on the target\n     *\n     * @param options - true/false or An object with event listeners to be fired on gesture events (makes the Interactable gesturable)\n     * @returns A boolean indicating if this can be the target of gesture events, or this Interactable\n     */\n    gesturable(options?: Partial<OrBoolean<GesturableOptions>> | boolean): this | GesturableOptions\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    gesture: GesturableOptions\n  }\n}\n\ndeclare module '@interactjs/core/types' {\n  interface ActionMap {\n    gesture?: typeof gesture\n  }\n}\n\nexport interface GesturableOptions extends PerActionDefaults {\n  onstart?: ListenersArg\n  onmove?: ListenersArg\n  onend?: ListenersArg\n}\n\nexport interface GestureEvent extends InteractEvent<'gesture'> {\n  distance: number\n  angle: number\n  da: number // angle change\n  scale: number // ratio of distance start to current event\n  ds: number // scale change\n  box: Rect // enclosing box of all points\n  touches: PointerType[]\n}\n\nexport interface GestureSignalArg extends DoPhaseArg<'gesture', EventPhase> {\n  iEvent: GestureEvent\n  interaction: Interaction<'gesture'>\n}\n\nfunction install(scope: Scope) {\n  const { actions, Interactable, defaults } = scope\n\n  Interactable.prototype.gesturable = function (\n    this: InstanceType<typeof Interactable>,\n    options: GesturableOptions | boolean,\n  ) {\n    if (is.object(options)) {\n      this.options.gesture.enabled = options.enabled !== false\n      this.setPerAction('gesture', options)\n      this.setOnEvents('gesture', options)\n\n      return this\n    }\n\n    if (is.bool(options)) {\n      this.options.gesture.enabled = options\n\n      return this\n    }\n\n    return this.options.gesture as GesturableOptions\n  } as Interactable['gesturable']\n\n  actions.map.gesture = gesture\n  actions.methodDict.gesture = 'gesturable'\n\n  defaults.actions.gesture = gesture.defaults\n}\n\nfunction updateGestureProps({ interaction, iEvent, phase }: GestureSignalArg) {\n  if (interaction.prepared.name !== 'gesture') return\n\n  const pointers = interaction.pointers.map((p) => p.pointer)\n  const starting = phase === 'start'\n  const ending = phase === 'end'\n  const deltaSource = interaction.interactable.options.deltaSource\n\n  iEvent.touches = [pointers[0], pointers[1]]\n\n  if (starting) {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource)\n    iEvent.box = pointerUtils.touchBBox(pointers)\n    iEvent.scale = 1\n    iEvent.ds = 0\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource)\n    iEvent.da = 0\n\n    interaction.gesture.startDistance = iEvent.distance\n    interaction.gesture.startAngle = iEvent.angle\n  } else if (ending || interaction.pointers.length < 2) {\n    const prevEvent = interaction.prevEvent as GestureEvent\n\n    iEvent.distance = prevEvent.distance\n    iEvent.box = prevEvent.box\n    iEvent.scale = prevEvent.scale\n    iEvent.ds = 0\n    iEvent.angle = prevEvent.angle\n    iEvent.da = 0\n  } else {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource)\n    iEvent.box = pointerUtils.touchBBox(pointers)\n    iEvent.scale = iEvent.distance / interaction.gesture.startDistance\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource)\n\n    iEvent.ds = iEvent.scale - interaction.gesture.scale\n    iEvent.da = iEvent.angle - interaction.gesture.angle\n  }\n\n  interaction.gesture.distance = iEvent.distance\n  interaction.gesture.angle = iEvent.angle\n\n  if (is.number(iEvent.scale) && iEvent.scale !== Infinity && !isNaN(iEvent.scale)) {\n    interaction.gesture.scale = iEvent.scale\n  }\n}\n\nconst gesture: Plugin = {\n  id: 'actions/gesture',\n  before: ['actions/drag', 'actions/resize'],\n  install,\n  listeners: {\n    'interactions:action-start': updateGestureProps,\n    'interactions:action-move': updateGestureProps,\n    'interactions:action-end': updateGestureProps,\n\n    'interactions:new': ({ interaction }) => {\n      interaction.gesture = {\n        angle: 0,\n        distance: 0,\n        scale: 1,\n        startAngle: 0,\n        startDistance: 0,\n      }\n    },\n\n    'auto-start:check': (arg) => {\n      if (arg.interaction.pointers.length < 2) {\n        return undefined\n      }\n\n      const gestureOptions = arg.interactable.options.gesture\n\n      if (!(gestureOptions && gestureOptions.enabled)) {\n        return undefined\n      }\n\n      arg.action = { name: 'gesture' }\n\n      return false\n    },\n  },\n\n  defaults: {},\n\n  getCursor() {\n    return ''\n  },\n\n  filterEventType: (type: string) => type.search('gesture') === 0,\n}\n\nexport default gesture\n"
	],
	"mappings": "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"
}